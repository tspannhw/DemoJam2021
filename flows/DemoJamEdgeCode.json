{"flowContents":{"identifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"DemoJam Edge to Cloud Process Events Scada Logs","comments":"","position":{"x":8232.0,"y":576.0},"processGroups":[{"identifier":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Sensors Messaging","comments":"","position":{"x":-392.0,"y":2056.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1235a6c0-fccb-353b-b841-eff81679950d","name":"Attributes Grab","comments":"","position":{"x":2560.0,"y":496.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","properties":{"Destination":"flowfile-attribute","ipaddress":"$.ipaddress","amps":"$.amps","memory":"$.memory","Null Value Representation":"empty string","starttime":"$.starttime","lux":"$.lux","Path Not Found Behavior":"ignore","amplitude1000":"$.amplitude1000","adjtemp":"$.adjtemp","host":"$.host","temperature":"$.temperature","temperaturef":"$.temperaturef","humidity":"$.humidity","macaddress":"$.macaddress","id":"$.id","systemtime":"$.systemtime","lownoise":"$.lownoise","diskusage":"$.diskusage","gasKO":"$.gasKO","Return Type":"json","amplitude500":"$.amplitude500","midnoise":"$.midnoise","runtime":"$.runtime","endtime":"$.endtime","cpu":"$.cpu","pressure":"$.pressure","cpu_temp":"$.cpu_temp","proximity":"$.proximity","nh3":"$.nh3","amplitude100":"$.amplitude100","reducing":"$.reducing","highnoise":"$.highnoise","oxidising":"$.oxidising","adjtempf":"$.adjtempf","host_name":"$.host_name"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"ipaddress":{"name":"ipaddress","displayName":"ipaddress","identifiesControllerService":false,"sensitive":false},"amps":{"name":"amps","displayName":"amps","identifiesControllerService":false,"sensitive":false},"memory":{"name":"memory","displayName":"memory","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"starttime":{"name":"starttime","displayName":"starttime","identifiesControllerService":false,"sensitive":false},"lux":{"name":"lux","displayName":"lux","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"amplitude1000":{"name":"amplitude1000","displayName":"amplitude1000","identifiesControllerService":false,"sensitive":false},"adjtemp":{"name":"adjtemp","displayName":"adjtemp","identifiesControllerService":false,"sensitive":false},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false},"temperature":{"name":"temperature","displayName":"temperature","identifiesControllerService":false,"sensitive":false},"temperaturef":{"name":"temperaturef","displayName":"temperaturef","identifiesControllerService":false,"sensitive":false},"humidity":{"name":"humidity","displayName":"humidity","identifiesControllerService":false,"sensitive":false},"macaddress":{"name":"macaddress","displayName":"macaddress","identifiesControllerService":false,"sensitive":false},"id":{"name":"id","displayName":"id","identifiesControllerService":false,"sensitive":false},"systemtime":{"name":"systemtime","displayName":"systemtime","identifiesControllerService":false,"sensitive":false},"lownoise":{"name":"lownoise","displayName":"lownoise","identifiesControllerService":false,"sensitive":false},"diskusage":{"name":"diskusage","displayName":"diskusage","identifiesControllerService":false,"sensitive":false},"gasKO":{"name":"gasKO","displayName":"gasKO","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"amplitude500":{"name":"amplitude500","displayName":"amplitude500","identifiesControllerService":false,"sensitive":false},"midnoise":{"name":"midnoise","displayName":"midnoise","identifiesControllerService":false,"sensitive":false},"runtime":{"name":"runtime","displayName":"runtime","identifiesControllerService":false,"sensitive":false},"endtime":{"name":"endtime","displayName":"endtime","identifiesControllerService":false,"sensitive":false},"cpu":{"name":"cpu","displayName":"cpu","identifiesControllerService":false,"sensitive":false},"pressure":{"name":"pressure","displayName":"pressure","identifiesControllerService":false,"sensitive":false},"cpu_temp":{"name":"cpu_temp","displayName":"cpu_temp","identifiesControllerService":false,"sensitive":false},"proximity":{"name":"proximity","displayName":"proximity","identifiesControllerService":false,"sensitive":false},"nh3":{"name":"nh3","displayName":"nh3","identifiesControllerService":false,"sensitive":false},"amplitude100":{"name":"amplitude100","displayName":"amplitude100","identifiesControllerService":false,"sensitive":false},"reducing":{"name":"reducing","displayName":"reducing","identifiesControllerService":false,"sensitive":false},"highnoise":{"name":"highnoise","displayName":"highnoise","identifiesControllerService":false,"sensitive":false},"oxidising":{"name":"oxidising","displayName":"oxidising","identifiesControllerService":false,"sensitive":false},"adjtempf":{"name":"adjtempf","displayName":"adjtempf","identifiesControllerService":false,"sensitive":false},"host_name":{"name":"host_name","displayName":"host_name","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"},{"identifier":"96a0b21b-0713-3d4d-81c5-ffc1ec082c29","name":"Send Msg to Slack Channel","comments":"","position":{"x":2560.0,"y":712.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-slack-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.slack.PutSlack","properties":{"icon-emoji":null,"webhook-text":"=----------------------------= Temperature Alert\n          UUID: ${\"uuid\"}\n Amplitude 100: ${\"amplitude100\"}\n Amplitude 500: ${\"amplitude500\"}\nAmplitude 1000: ${\"amplitude1000\"}\n     Low Noise: ${\"lownoise\"}\n     Mid Noise: ${\"midnoise\"}\n    High Noise: ${\"highnoise\"}\n          AMPS: ${\"amps\"}\n    IP Address: ${\"ipaddress\"}\n          Host: ${\"host\"}\n     Host Name: ${\"host_name\"}\n   MAC Address: ${\"macaddress\"}\n   System Time: ${\"systemtime\"}\n      End Time: ${\"endtime\"}\n      Run Time: ${\"runtime\"}\n    Start Time: ${\"starttime\"}\n           CPU: ${\"cpu\"}\n      CPU Temp: ${\"cpu_temp\"}\n    Disk Usage: ${\"diskusage\"}\n        Memory: ${\"memory\"}\n            Id: ${\"id\"}\n   Temperature: ${\"temperature\"}\n   TempC (adj): ${\"adjtemp\"}\n   TempF (adj): ${\"adjtempf\"}\n   Temperature: ${\"temperaturef\"}   <===\n      Pressure: ${\"pressure\"}\n      Humidity: ${\"humidity\"}\n           Lux: ${\"lux\"}\n     Proximity: ${\"proximity\"}\n     Oxidising: ${\"oxidising\"}\n      Reducing: ${\"reducing\"}\n           NH3: ${\"nh3\"}\n        Gas KO: ${\"gasKO\"}\n\nTemperature is above safe range.\n=----------------------------= Temperature Alert","channel":"#sensoralerts","icon-url":null,"username":"webhookbot "},"propertyDescriptors":{"icon-emoji":{"name":"icon-emoji","displayName":"Icon Emoji","identifiesControllerService":false,"sensitive":false},"webhook-url":{"name":"webhook-url","displayName":"Webhook URL","identifiesControllerService":false,"sensitive":true},"webhook-text":{"name":"webhook-text","displayName":"Webhook Text","identifiesControllerService":false,"sensitive":false},"channel":{"name":"channel","displayName":"Channel","identifiesControllerService":false,"sensitive":false},"icon-url":{"name":"icon-url","displayName":"Icon URL","identifiesControllerService":false,"sensitive":false},"username":{"name":"username","displayName":"Username","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"60 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"},{"identifier":"42d8e635-d207-3b4b-b434-aa09bdf52654","name":"SplitJson","comments":"","position":{"x":2568.0,"y":288.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.SplitJson","properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"}],"inputPorts":[{"identifier":"5b99ccbd-4fb7-3514-a66b-f0bc6416be23","name":"Messaging In","comments":"","position":{"x":2616.0,"y":144.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"}],"outputPorts":[],"connections":[{"identifier":"d4cd4329-e5fb-38ca-8948-9ad3426a8fff","name":"","source":{"id":"1235a6c0-fccb-353b-b841-eff81679950d","type":"PROCESSOR","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Attributes Grab","comments":""},"destination":{"id":"96a0b21b-0713-3d4d-81c5-ffc1ec082c29","type":"PROCESSOR","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Send Msg to Slack Channel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":100000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"},{"identifier":"a40b808c-9fab-3f4f-a610-70befa0ba82a","name":"","source":{"id":"42d8e635-d207-3b4b-b434-aa09bdf52654","type":"PROCESSOR","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"SplitJson","comments":""},"destination":{"id":"1235a6c0-fccb-353b-b841-eff81679950d","type":"PROCESSOR","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Attributes Grab","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"},{"identifier":"2a9d59c1-45ad-3f5b-93be-e7313dd54ce3","name":"","source":{"id":"5b99ccbd-4fb7-3514-a66b-f0bc6416be23","type":"INPUT_PORT","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Messaging In","comments":""},"destination":{"id":"42d8e635-d207-3b4b-b434-aa09bdf52654","type":"PROCESSOR","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"SplitJson","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":2000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"},{"identifier":"4b980cd5-63f0-3ed8-be3c-c0712524d93c","name":"","source":{"id":"96a0b21b-0713-3d4d-81c5-ffc1ec082c29","type":"PROCESSOR","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Send Msg to Slack Channel","comments":""},"destination":{"id":"0b074976-27b3-3215-966d-7ed235f08a20","type":"FUNNEL","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"},{"identifier":"9699f13a-9e5c-3857-a172-98eab479a4cf","name":"","source":{"id":"1235a6c0-fccb-353b-b841-eff81679950d","type":"PROCESSOR","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Attributes Grab","comments":""},"destination":{"id":"0b074976-27b3-3215-966d-7ed235f08a20","type":"FUNNEL","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":2000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"}],"labels":[],"funnels":[{"identifier":"0b074976-27b3-3215-966d-7ed235f08a20","position":{"x":3226.0137120470126,"y":712.1253672869734},"componentType":"FUNNEL","groupIdentifier":"24e49be8-fe82-3239-be4b-630cb0525588"}],"controllerServices":[],"variables":{},"parameterContextName":"sensors","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Materialized view Ingest","comments":"","position":{"x":1160.0,"y":1664.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1ab5d72b-b7f2-380d-96e1-b10a99cf2173","name":"RetryFlowFile","comments":"","position":{"x":864.0,"y":976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"31e09a20-da10-3986-98ce-60492e44f672","name":"Is File Large Enough?","comments":"","position":{"x":864.0,"y":184.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","isValid":"${fileSize:gt(10)}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"isValid":{"name":"isValid","displayName":"isValid","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"728b62c0-df3e-372b-bc7e-b57edc8e8e48","name":"Meta Data","comments":"","position":{"x":864.0,"y":0.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"global_sensor_events","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"2f09a0c3-374e-304d-a413-fd690770d02f","name":"ValidateRecord","comments":"","position":{"x":856.0,"y":376.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.ValidateRecord","properties":{"allow-extra-fields":"true","strict-type-checking":"false","schema-name":"${schema.name}","record-writer":"afc15f88-6e27-3777-ae23-3da91e11d980","invalid-record-writer":null,"schema-registry":"85eeba17-d6cb-35ca-a05d-31f4fda3f088","coerce-types":"false","validation-details-attribute-name":"validation.details","record-reader":"c5f33b35-558a-360c-b0db-a703c19b45fc","maximum-validation-details-length":"4096","schema-access-strategy":"schema-name-property","schema-text":"${avro.schema}"},"propertyDescriptors":{"allow-extra-fields":{"name":"allow-extra-fields","displayName":"Allow Extra Fields","identifiesControllerService":false,"sensitive":false},"strict-type-checking":{"name":"strict-type-checking","displayName":"Strict Type Checking","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"invalid-record-writer":{"name":"invalid-record-writer","displayName":"Record Writer for Invalid Records","identifiesControllerService":true,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"coerce-types":{"name":"coerce-types","displayName":"Force Types From Reader's Schema","identifiesControllerService":false,"sensitive":false},"validation-details-attribute-name":{"name":"validation-details-attribute-name","displayName":"Validation Details Attribute Name","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"maximum-validation-details-length":{"name":"maximum-validation-details-length","displayName":"Maximum Validation Details Length","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"4c156512-3334-3d2d-bf8d-b3614ac0a0ca","name":"Consume Kafka via REST","comments":"","position":{"x":864.0,"y":-200.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.InvokeHTTP","properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","Connection Timeout":"15 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"http://ec2-54-166-162-14.compute-1.amazonaws.com:18131/api/v1/query/5200/globaldata?key=cd8347a4-d20e-4123-ba65-2955569e74ec","Content-Type":"${mime.type}","form-body-form-name":null,"max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"115 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Attributes to Send","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Use HTTP ETag","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Send Message Body","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Set Flowfile Form Data File Name","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Always Output Response","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Maximum ETag Cache Size","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"Disable HTTP/2","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Put Response Body In Attribute","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Follow Redirects","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"Remote URL","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Flowfile Form Data Name","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Max Length To Put In Attribute","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Ignore response's content","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Use Digest Authentication","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Add Response Headers to Request","identifiesControllerService":false,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Include Date Header","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Penalize on \"No Retry\"","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Useragent","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"1 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"70d1c8eb-4727-3331-9025-7b53df55576b","name":"PutS3Object","comments":"","position":{"x":856.0,"y":792.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","properties":{"Proxy Host":null,"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","proxy-configuration-service":null,"Cache Control":null,"s3-object-remove-tags-prefix":"false","Endpoint Override URL":null,"Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Content Type":null,"Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","encryption-service":null,"Content Disposition":null,"Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${filename}","AWS Credentials Provider service":"5e00ec4e-f03b-3f7c-bfd7-c17119c07cb3","Multipart Threshold":"5 GB","s3-object-tags-prefix":null,"SSL Context Service":null,"Bucket":null,"Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Credentials File":null,"Region":"us-west-2","Read Permission User List":"${s3.permissions.read.users}","Expiration Time Rule":null,"proxy-user-name":null,"Proxy Host Port":null,"s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"FullControl User List":{"name":"FullControl User List","displayName":"FullControl User List","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Cache Control":{"name":"Cache Control","displayName":"Cache Control","identifiesControllerService":false,"sensitive":false},"s3-object-remove-tags-prefix":{"name":"s3-object-remove-tags-prefix","displayName":"Remove Tag Prefix","identifiesControllerService":false,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"Multipart Upload Max Age Threshold":{"name":"Multipart Upload Max Age Threshold","displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"sensitive":false},"canned-acl":{"name":"canned-acl","displayName":"Canned ACL","identifiesControllerService":false,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Content Type":{"name":"Content Type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Write ACL User List":{"name":"Write ACL User List","displayName":"Write ACL User List","identifiesControllerService":false,"sensitive":false},"server-side-encryption":{"name":"server-side-encryption","displayName":"Server Side Encryption","identifiesControllerService":false,"sensitive":false},"Read ACL User List":{"name":"Read ACL User List","displayName":"Read ACL User List","identifiesControllerService":false,"sensitive":false},"encryption-service":{"name":"encryption-service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false},"Content Disposition":{"name":"Content Disposition","displayName":"Content Disposition","identifiesControllerService":false,"sensitive":false},"Storage Class":{"name":"Storage Class","displayName":"Storage Class","identifiesControllerService":false,"sensitive":false},"Multipart Part Size":{"name":"Multipart Part Size","displayName":"Multipart Part Size","identifiesControllerService":false,"sensitive":false},"use-chunked-encoding":{"name":"use-chunked-encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"Multipart Threshold":{"name":"Multipart Threshold","displayName":"Multipart Threshold","identifiesControllerService":false,"sensitive":false},"s3-object-tags-prefix":{"name":"s3-object-tags-prefix","displayName":"Object Tags Prefix","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Multipart Upload AgeOff Interval":{"name":"Multipart Upload AgeOff Interval","displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"sensitive":false},"use-path-style-access":{"name":"use-path-style-access","displayName":"Use Path Style Access","identifiesControllerService":false,"sensitive":false},"Write Permission User List":{"name":"Write Permission User List","displayName":"Write Permission User List","identifiesControllerService":false,"sensitive":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Read Permission User List":{"name":"Read Permission User List","displayName":"Read Permission User List","identifiesControllerService":false,"sensitive":false},"Expiration Time Rule":{"name":"Expiration Time Rule","displayName":"Expiration Time Rule","identifiesControllerService":false,"sensitive":false},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"s3-temporary-directory-multipart":{"name":"s3-temporary-directory-multipart","displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"a69f4491-c2f4-3a32-983d-24f673a4aecf","name":"All the Data","comments":"","position":{"x":856.0,"y":568.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.QueryRecord","properties":{"all":"SELECT * FROM FLOWFILE WHERE temperaturef is not null","cache-schema":"true","dbf-default-precision":"10","record-writer":"760134c6-1768-3f53-a13a-96c759924e31","record-reader":"c04ce46b-eb77-3d80-82cf-545635f27605","include-zero-record-flowfiles":"false","dbf-default-scale":"0"},"propertyDescriptors":{"all":{"name":"all","displayName":"all","identifiesControllerService":false,"sensitive":false},"cache-schema":{"name":"cache-schema","displayName":"Cache Schema","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"}],"inputPorts":[],"outputPorts":[{"identifier":"bd8219c7-6fe0-3668-9905-a58d0ce253b4","name":"Errors","position":{"x":1512.0,"y":656.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"}],"connections":[{"identifier":"af30357d-c336-37b1-858c-0806ef9cb4c3","name":"","source":{"id":"1ab5d72b-b7f2-380d-96e1-b10a99cf2173","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"RetryFlowFile","comments":""},"destination":{"id":"bd8219c7-6fe0-3668-9905-a58d0ce253b4","type":"OUTPUT_PORT","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Errors"},"labelIndex":1,"zIndex":0,"selectedRelationships":["retries_exceeded","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"46e8bc0f-a91e-3806-8ca9-0603ae85c4b2","name":"","source":{"id":"a69f4491-c2f4-3a32-983d-24f673a4aecf","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"All the Data","comments":""},"destination":{"id":"70d1c8eb-4727-3331-9025-7b53df55576b","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"PutS3Object","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["all"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"68dd8ea8-a31f-3b23-bafa-bde155aac1a0","name":"","source":{"id":"2f09a0c3-374e-304d-a413-fd690770d02f","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"ValidateRecord","comments":""},"destination":{"id":"bd8219c7-6fe0-3668-9905-a58d0ce253b4","type":"OUTPUT_PORT","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Errors"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","invalid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"225372ab-00a2-30ad-b334-c52c70ecb6e9","name":"","source":{"id":"70d1c8eb-4727-3331-9025-7b53df55576b","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"PutS3Object","comments":""},"destination":{"id":"1ab5d72b-b7f2-380d-96e1-b10a99cf2173","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"RetryFlowFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"9f0614c9-a340-3fca-8538-24ee8d9ee225","name":"","source":{"id":"4c156512-3334-3d2d-bf8d-b3614ac0a0ca","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Consume Kafka via REST","comments":""},"destination":{"id":"728b62c0-df3e-372b-bc7e-b57edc8e8e48","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Meta Data","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"e4747c9d-c3a5-39cf-9935-68779e46c6f2","name":"","source":{"id":"2f09a0c3-374e-304d-a413-fd690770d02f","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"ValidateRecord","comments":""},"destination":{"id":"a69f4491-c2f4-3a32-983d-24f673a4aecf","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"All the Data","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["valid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"1e40d242-ad51-3811-a0c9-38f29736874e","name":"","source":{"id":"31e09a20-da10-3986-98ce-60492e44f672","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Is File Large Enough?","comments":""},"destination":{"id":"2f09a0c3-374e-304d-a413-fd690770d02f","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"ValidateRecord","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["isValid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"da2d504e-17ef-3d84-900d-3edfa44e2dde","name":"","source":{"id":"a69f4491-c2f4-3a32-983d-24f673a4aecf","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"All the Data","comments":""},"destination":{"id":"bd8219c7-6fe0-3668-9905-a58d0ce253b4","type":"OUTPUT_PORT","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Errors"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"8274d10b-e941-34b5-9bb7-bd95d0a140f9","name":"","source":{"id":"4c156512-3334-3d2d-bf8d-b3614ac0a0ca","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Consume Kafka via REST","comments":""},"destination":{"id":"9559d665-59c9-3cbe-abcc-62d829e73895","type":"FUNNEL","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"e62aea4f-f7f2-37f3-a187-a3a2b501854b","name":"","source":{"id":"1ab5d72b-b7f2-380d-96e1-b10a99cf2173","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"RetryFlowFile","comments":""},"destination":{"id":"70d1c8eb-4727-3331-9025-7b53df55576b","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"PutS3Object","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":632.0,"y":904.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"f4d251f0-86ee-3ac9-9086-7e423927f1e1","name":"","source":{"id":"4c156512-3334-3d2d-bf8d-b3614ac0a0ca","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Consume Kafka via REST","comments":""},"destination":{"id":"4c156512-3334-3d2d-bf8d-b3614ac0a0ca","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Consume Kafka via REST","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1331.29996077464,"y":-158.00005636653702},{"x":1477.29996077464,"y":-96.00005636653702}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"},{"identifier":"b2c3f46c-675f-3ab8-b42b-999dda6a5976","name":"","source":{"id":"728b62c0-df3e-372b-bc7e-b57edc8e8e48","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Meta Data","comments":""},"destination":{"id":"31e09a20-da10-3986-98ce-60492e44f672","type":"PROCESSOR","groupId":"655ad578-f851-31d2-8017-cf2d7f8e819f","name":"Is File Large Enough?","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"}],"labels":[],"funnels":[{"identifier":"9559d665-59c9-3cbe-abcc-62d829e73895","position":{"x":516.2999607746401,"y":-1.0000563665370237},"componentType":"FUNNEL","groupIdentifier":"655ad578-f851-31d2-8017-cf2d7f8e819f"}],"controllerServices":[],"variables":{},"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"In Stream","comments":"","position":{"x":2088.0,"y":1192.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"a76887a6-6d4b-34f8-9454-2003017b93c1","name":"Publish KafkaRecord instream","comments":"","position":{"x":912.0,"y":1432.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-0-nar","version":"1.13.2.2.1.1.0-13"},"style":{"background-color":"#73ad1c"},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafkaRecord_2_0","properties":{"compression.type":"none","attribute-name-regex":"schema.*","record-writer":"538fb1be-f196-35b0-97a1-41c72de4941f","bootstrap.servers":"#{kafkabrokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"partition":null,"sasl.mechanism":"GSSAPI","max.block.ms":"5 sec","record-reader":"c04ce46b-eb77-3d80-82cf-545635f27605","message-header-encoding":"UTF-8","transactional-id-prefix":null,"client.id":"kafka-${topicName2}-producer-nifi","ack.wait.time":"5 secs","sasl.username":null,"use-transactions":"false","acks":"0","security.protocol":"PLAINTEXT","ssl.context.service":null,"max.request.size":"1 MB","sasl.token.auth":"false","message-key-field":null,"Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"${topicName2}"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"client.id":{"name":"client.id","displayName":"client.id","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"message-key-field":{"name":"message-key-field","displayName":"Message Key Field","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"97aef901-1cab-33d4-9bbc-c906a3a579dc","name":"SplitRecord","comments":"","position":{"x":1504.0,"y":1008.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.SplitRecord","properties":{"Record Writer":"315ec691-8bbe-364e-8c9c-413ee124891f","Record Reader":"a4e1e2b0-ef21-3132-9767-3023dc2041fb","Records Per Split":"1"},"propertyDescriptors":{"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Records Per Split":{"name":"Records Per Split","displayName":"Records Per Split","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"5658ce9e-94df-3afb-ba44-e8c0328b24f5","name":"ControlRate","comments":"","position":{"x":1488.0,"y":1232.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.ControlRate","properties":{"Time Duration":"1 sec","Grouping Attribute":null,"Maximum Rate":"25","Rate Controlled Attribute":null,"Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"name":"Time Duration","displayName":"Time Duration","identifiesControllerService":false,"sensitive":false},"Grouping Attribute":{"name":"Grouping Attribute","displayName":"Grouping Attribute","identifiesControllerService":false,"sensitive":false},"Maximum Rate":{"name":"Maximum Rate","displayName":"Maximum Rate","identifiesControllerService":false,"sensitive":false},"Rate Controlled Attribute":{"name":"Rate Controlled Attribute","displayName":"Rate Controlled Attribute","identifiesControllerService":false,"sensitive":false},"Rate Control Criteria":{"name":"Rate Control Criteria","displayName":"Rate Control Criteria","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"3f3762ef-9cb1-3122-9a47-7972e0360263","name":"RetryFlowFile","comments":"","position":{"x":912.0,"y":1624.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"}],"inputPorts":[{"identifier":"fae39f7f-25ce-3fa3-b69b-7cd28e936f93","name":"In","comments":"","position":{"x":968.0,"y":1176.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"}],"outputPorts":[{"identifier":"1017ec01-603b-38c3-9e45-81f741c9d48f","name":"Errors","comments":"","position":{"x":952.0,"y":1824.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"}],"connections":[{"identifier":"8e3b63ba-5244-3ad1-97a9-722b0047888c","name":"","source":{"id":"fae39f7f-25ce-3fa3-b69b-7cd28e936f93","type":"INPUT_PORT","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"In","comments":""},"destination":{"id":"a76887a6-6d4b-34f8-9454-2003017b93c1","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"Publish KafkaRecord instream","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":100000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"e32aee40-cd38-3b08-9f00-d207dc8920d6","name":"","source":{"id":"a76887a6-6d4b-34f8-9454-2003017b93c1","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"Publish KafkaRecord instream","comments":""},"destination":{"id":"3f3762ef-9cb1-3122-9a47-7972e0360263","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"RetryFlowFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"1e2a3101-0f24-3780-a9da-231599684bb9","name":"","source":{"id":"3f3762ef-9cb1-3122-9a47-7972e0360263","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"RetryFlowFile","comments":""},"destination":{"id":"1017ec01-603b-38c3-9e45-81f741c9d48f","type":"OUTPUT_PORT","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retries_exceeded","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"e5180975-47a6-3131-ab6d-43d70affcfaf","name":"","source":{"id":"97aef901-1cab-33d4-9bbc-c906a3a579dc","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"SplitRecord","comments":""},"destination":{"id":"5658ce9e-94df-3afb-ba44-e8c0328b24f5","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"ControlRate","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":5000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"615a6e9e-a5fd-3423-8414-a8e7e6e1cc44","name":"","source":{"id":"5658ce9e-94df-3afb-ba44-e8c0328b24f5","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"ControlRate","comments":""},"destination":{"id":"a76887a6-6d4b-34f8-9454-2003017b93c1","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"Publish KafkaRecord instream","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"},{"identifier":"e828711f-51e6-38c5-8089-6f71473c7d81","name":"","source":{"id":"3f3762ef-9cb1-3122-9a47-7972e0360263","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"RetryFlowFile","comments":""},"destination":{"id":"a76887a6-6d4b-34f8-9454-2003017b93c1","type":"PROCESSOR","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"Publish KafkaRecord instream","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1400.0,"y":1592.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"}],"labels":[{"identifier":"b8a2e8f6-7c6d-3709-8f35-662c520aa731","position":{"x":1400.0,"y":816.0},"label":"Integration test we could load from a CSV or JSON file","width":624.0,"height":152.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"a1be06f1-1abe-3567-b97c-51539a69fdc7"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"sensors","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"42e4da01-bef6-35f3-ba7c-25569f1c29fe","name":"From HTTP Gateway","comments":"","position":{"x":1440.0,"y":176.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4a6ef859-f5f2-3e11-8867-1ffbac636855","name":"Set Source","comments":"","position":{"x":872.0,"y":792.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","edge.source":"http","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"edge.source":{"name":"edge.source","displayName":"edge.source","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"42e4da01-bef6-35f3-ba7c-25569f1c29fe"},{"identifier":"0458cf7c-300d-3bc4-beb8-7240b2fe7641","name":"ListenHTTP","comments":"","position":{"x":872.0,"y":576.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.ListenHTTP","properties":{"multipart-request-max-size":"20 MB","HTTP Headers to receive as Attributes (Regex)":".*","health-check-port":null,"Authorized DN Pattern":".*","max-thread-pool-size":"200","Base Path":"gateway","multipart-read-buffer-size":"512 KB","SSL Context Service":null,"Max Unconfirmed Flowfile Time":"120 secs","Max Data to Receive per Second":null,"client-authentication":"AUTO","Return Code":"200","Listening Port":"8099"},"propertyDescriptors":{"multipart-request-max-size":{"name":"multipart-request-max-size","displayName":"Multipart Request Max Size","identifiesControllerService":false,"sensitive":false},"HTTP Headers to receive as Attributes (Regex)":{"name":"HTTP Headers to receive as Attributes (Regex)","displayName":"HTTP Headers to receive as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"health-check-port":{"name":"health-check-port","displayName":"Listening Port for Health Check Requests","identifiesControllerService":false,"sensitive":false},"Authorized DN Pattern":{"name":"Authorized DN Pattern","displayName":"Authorized DN Pattern","identifiesControllerService":false,"sensitive":false},"max-thread-pool-size":{"name":"max-thread-pool-size","displayName":"Maximum Thread Pool Size","identifiesControllerService":false,"sensitive":false},"Base Path":{"name":"Base Path","displayName":"Base Path","identifiesControllerService":false,"sensitive":false},"multipart-read-buffer-size":{"name":"multipart-read-buffer-size","displayName":"Multipart Read Buffer Size","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Max Unconfirmed Flowfile Time":{"name":"Max Unconfirmed Flowfile Time","displayName":"Max Unconfirmed Flowfile Time","identifiesControllerService":false,"sensitive":false},"Max Data to Receive per Second":{"name":"Max Data to Receive per Second","displayName":"Max Data to Receive per Second","identifiesControllerService":false,"sensitive":false},"client-authentication":{"name":"client-authentication","displayName":"Client Authentication","identifiesControllerService":false,"sensitive":false},"Return Code":{"name":"Return Code","displayName":"Return Code","identifiesControllerService":false,"sensitive":false},"Listening Port":{"name":"Listening Port","displayName":"Listening Port","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"42e4da01-bef6-35f3-ba7c-25569f1c29fe"}],"inputPorts":[],"outputPorts":[{"identifier":"ecac24d0-565e-3353-bc5e-4b3850f0827a","name":"Out","comments":"","position":{"x":912.0,"y":1008.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"42e4da01-bef6-35f3-ba7c-25569f1c29fe"},{"identifier":"8a744091-d1b7-347d-8aaa-0834f4db33f3","name":"Errors","comments":"","position":{"x":1380.999998196538,"y":1037.9999929199216},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"42e4da01-bef6-35f3-ba7c-25569f1c29fe"}],"connections":[{"identifier":"4d1dcded-a68f-34c9-9150-52af3d1163d6","name":"","source":{"id":"0458cf7c-300d-3bc4-beb8-7240b2fe7641","type":"PROCESSOR","groupId":"42e4da01-bef6-35f3-ba7c-25569f1c29fe","name":"ListenHTTP","comments":""},"destination":{"id":"4a6ef859-f5f2-3e11-8867-1ffbac636855","type":"PROCESSOR","groupId":"42e4da01-bef6-35f3-ba7c-25569f1c29fe","name":"Set Source","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"42e4da01-bef6-35f3-ba7c-25569f1c29fe"},{"identifier":"b1617fd3-c038-3c34-abc9-52fc55cdacfa","name":"","source":{"id":"4a6ef859-f5f2-3e11-8867-1ffbac636855","type":"PROCESSOR","groupId":"42e4da01-bef6-35f3-ba7c-25569f1c29fe","name":"Set Source","comments":""},"destination":{"id":"ecac24d0-565e-3353-bc5e-4b3850f0827a","type":"OUTPUT_PORT","groupId":"42e4da01-bef6-35f3-ba7c-25569f1c29fe","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"42e4da01-bef6-35f3-ba7c-25569f1c29fe"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"From Kafka Gateway","comments":"","position":{"x":96.0,"y":632.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"8dc681ce-c32e-3106-a89e-0e02052cb6d3","name":"Set Source","comments":"","position":{"x":96.0,"y":1080.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"edge.datatype":"unknown","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","edge.source":"kafka","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"edge.datatype":{"name":"edge.datatype","displayName":"edge.datatype","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"edge.source":{"name":"edge.source","displayName":"edge.source","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2"},{"identifier":"35323f0e-969f-3b60-bf2b-55aae6ecc269","name":"Consume Kafka Edge messages","comments":"","position":{"x":96.0,"y":848.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-0-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafkaRecord_2_0","properties":{"header-name-regex":"schema.*","sasl.username":null,"max.poll.records":"10000","record-writer":"7b8627f8-c677-3bc0-b483-ab0caa6efe77","group.id":"nifi-scadawriter-consumer","bootstrap.servers":"edge2ai-1.dim.local:9092","topic_type":"names","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"security.protocol":"PLAINTEXT","kerberos-credentials-service":null,"ssl.context.service":null,"max-uncommit-offset-wait":"1 secs","sasl.mechanism":"GSSAPI","sasl.token.auth":"false","honor-transactions":"false","sasl.kerberos.keytab":null,"Communications Timeout":"60 secs","topic":"scada,energy","separate-by-key":"false","record-reader":"abc141d5-48de-397f-af4c-370eaab1bc82","message-header-encoding":"UTF-8","key-attribute-encoding":"utf-8","auto.offset.reset":"earliest"},"propertyDescriptors":{"header-name-regex":{"name":"header-name-regex","displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic_type":{"name":"topic_type","displayName":"Topic Name Format","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"honor-transactions":{"name":"honor-transactions","displayName":"Honor Transactions","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"separate-by-key":{"name":"separate-by-key","displayName":"Separate By Key","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2"}],"inputPorts":[],"outputPorts":[{"identifier":"d6111b22-e284-3297-9198-61e3351efe9c","name":"Out","comments":"","position":{"x":152.0,"y":1312.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2"},{"identifier":"4e522e80-b58c-3257-8c30-3e7b7a17d46b","name":"Errors","comments":"","position":{"x":-376.0,"y":1168.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2"}],"connections":[{"identifier":"74ae234f-3eb4-36d4-882e-8d6c99f42fe2","name":"","source":{"id":"35323f0e-969f-3b60-bf2b-55aae6ecc269","type":"PROCESSOR","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Consume Kafka Edge messages","comments":""},"destination":{"id":"4e522e80-b58c-3257-8c30-3e7b7a17d46b","type":"OUTPUT_PORT","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["parse.failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2"},{"identifier":"465c13bf-9fa0-3681-ba07-754c8304bfb2","name":"","source":{"id":"35323f0e-969f-3b60-bf2b-55aae6ecc269","type":"PROCESSOR","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Consume Kafka Edge messages","comments":""},"destination":{"id":"8dc681ce-c32e-3106-a89e-0e02052cb6d3","type":"PROCESSOR","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Set Source","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2"},{"identifier":"3fffbd54-d71d-387c-941f-187d2c2a00bb","name":"","source":{"id":"8dc681ce-c32e-3106-a89e-0e02052cb6d3","type":"PROCESSOR","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Set Source","comments":""},"destination":{"id":"d6111b22-e284-3297-9198-61e3351efe9c","type":"OUTPUT_PORT","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"61671f9e-93cf-3cb4-b7b9-091063ce69b2"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"788731ed-0d20-3899-bb00-732c92a1c539","name":"Operational Database","comments":"","position":{"x":-408.0,"y":1208.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"54672bd9-17e3-3ae2-9e9e-2bc4faa8a82e","name":"PutHBaseRecord ","comments":"","position":{"x":440.0,"y":424.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-hbase-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.hbase.PutHBaseRecord","properties":{"Table Name":"${tableName}","Row Identifier Field Name":"${idcolumn}","hbase-record-null-field-strategy":"skip-field","Column Family":"${columnFamily}","put-hb-rec-visibility-record-path":null,"Row Identifier Encoding Strategy":"String","Complex Field Strategy":"Text","Batch Size":"2500","hbase-default-vis-string":null,"Field Encoding Strategy":"String","record-reader":"e285cb55-47d4-397b-98d9-69f459a65ce8","HBase Client Service":"cdfa45ea-9a81-357f-89c2-1de60c21b763","timestamp-field-name":null},"propertyDescriptors":{"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false},"Row Identifier Field Name":{"name":"Row Identifier Field Name","displayName":"Row Identifier Field Name","identifiesControllerService":false,"sensitive":false},"hbase-record-null-field-strategy":{"name":"hbase-record-null-field-strategy","displayName":"Null Field Strategy","identifiesControllerService":false,"sensitive":false},"Column Family":{"name":"Column Family","displayName":"Column Family","identifiesControllerService":false,"sensitive":false},"put-hb-rec-visibility-record-path":{"name":"put-hb-rec-visibility-record-path","displayName":"Visibility String Record Path Root","identifiesControllerService":false,"sensitive":false},"Row Identifier Encoding Strategy":{"name":"Row Identifier Encoding Strategy","displayName":"Row Identifier Encoding Strategy","identifiesControllerService":false,"sensitive":false},"Complex Field Strategy":{"name":"Complex Field Strategy","displayName":"Complex Field Strategy","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"hbase-default-vis-string":{"name":"hbase-default-vis-string","displayName":"Default Visibility String","identifiesControllerService":false,"sensitive":false},"Field Encoding Strategy":{"name":"Field Encoding Strategy","displayName":"Field Encoding Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"HBase Client Service":{"name":"HBase Client Service","displayName":"HBase Client Service","identifiesControllerService":true,"sensitive":false},"timestamp-field-name":{"name":"timestamp-field-name","displayName":"Timestamp Field Name","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"},{"identifier":"fb80cdd9-c53c-338b-be58-5b39bd5364c8","name":"RetryFlowFile","comments":"","position":{"x":432.0,"y":680.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"}],"inputPorts":[{"identifier":"14a7d890-caa8-3d73-8aa1-a84cc822ae6c","name":"In","comments":"","position":{"x":496.0,"y":320.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"}],"outputPorts":[{"identifier":"c4e4bcb7-2d7a-3911-8e5e-f5e5d1a2895f","name":"Errors","comments":"","position":{"x":488.0,"y":928.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"}],"connections":[{"identifier":"8910550b-e12e-374b-856a-b1982dd912cc","name":"","source":{"id":"14a7d890-caa8-3d73-8aa1-a84cc822ae6c","type":"INPUT_PORT","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"In","comments":""},"destination":{"id":"54672bd9-17e3-3ae2-9e9e-2bc4faa8a82e","type":"PROCESSOR","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"PutHBaseRecord ","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":100000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"},{"identifier":"7b18ee5d-e82a-300a-b2a2-a15fd8e68def","name":"","source":{"id":"fb80cdd9-c53c-338b-be58-5b39bd5364c8","type":"PROCESSOR","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"RetryFlowFile","comments":""},"destination":{"id":"54672bd9-17e3-3ae2-9e9e-2bc4faa8a82e","type":"PROCESSOR","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"PutHBaseRecord ","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":880.0,"y":592.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"},{"identifier":"f397de3e-ed04-3326-89e0-fea36adba38e","name":"","source":{"id":"54672bd9-17e3-3ae2-9e9e-2bc4faa8a82e","type":"PROCESSOR","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"PutHBaseRecord ","comments":""},"destination":{"id":"fb80cdd9-c53c-338b-be58-5b39bd5364c8","type":"PROCESSOR","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"RetryFlowFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"},{"identifier":"3f213c27-50da-36a4-8056-7a369fc6736d","name":"","source":{"id":"fb80cdd9-c53c-338b-be58-5b39bd5364c8","type":"PROCESSOR","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"RetryFlowFile","comments":""},"destination":{"id":"c4e4bcb7-2d7a-3911-8e5e-f5e5d1a2895f","type":"OUTPUT_PORT","groupId":"788731ed-0d20-3899-bb00-732c92a1c539","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retries_exceeded","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"}],"labels":[{"identifier":"03a06799-284f-37d2-9b69-d259fd68fcdc","position":{"x":328.0,"y":176.0},"label":"OPERATIONAL DATABASE\nHBASE","width":624.0,"height":96.0,"style":{"background-color":"#d6f7ff","font-size":"24px"},"componentType":"LABEL","groupIdentifier":"788731ed-0d20-3899-bb00-732c92a1c539"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"sensors","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"Real-Time Data mart","comments":"","position":{"x":1280.0,"y":1216.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"cfbd324e-757f-30ce-a98f-5a0dbb68b129","name":"Write to Kudu","comments":"","position":{"x":1280.0,"y":1112.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-kudu-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.kudu.PutKudu","properties":{"Ignore NULL":"false","Table Name":"${kuduTableName}","Handle Schema Drift":"false","kerberos-principal":null,"Lowercase Field Names":"false","Insert Operation":"UPSERT","kudu-operations-timeout-ms":"30000ms","Skip head line":"false","FlowFiles per Batch":"1","kerberos-credentials-service":null,"Kudu Masters":"#{Kudu Masters}","Flush Mode":"AUTO_FLUSH_BACKGROUND","Failure Strategy":"route-to-failure","Batch Size":"100","Data RecordPath":null,"record-reader":"607567ee-8bb6-3e84-99d2-114ecd060464","kudu-keep-alive-period-timeout-ms":"15000ms","Operation RecordPath":null},"propertyDescriptors":{"Ignore NULL":{"name":"Ignore NULL","displayName":"Ignore NULL","identifiesControllerService":false,"sensitive":false},"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false},"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"Handle Schema Drift":{"name":"Handle Schema Drift","displayName":"Handle Schema Drift","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Lowercase Field Names":{"name":"Lowercase Field Names","displayName":"Lowercase Field Names","identifiesControllerService":false,"sensitive":false},"Insert Operation":{"name":"Insert Operation","displayName":"Kudu Operation Type","identifiesControllerService":false,"sensitive":false},"kudu-operations-timeout-ms":{"name":"kudu-operations-timeout-ms","displayName":"Kudu Operation Timeout","identifiesControllerService":false,"sensitive":false},"Skip head line":{"name":"Skip head line","displayName":"Skip head line","identifiesControllerService":false,"sensitive":false},"FlowFiles per Batch":{"name":"FlowFiles per Batch","displayName":"FlowFiles per Batch","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kudu Masters":{"name":"Kudu Masters","displayName":"Kudu Masters","identifiesControllerService":false,"sensitive":false},"Flush Mode":{"name":"Flush Mode","displayName":"Flush Mode","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Max Records per Batch","identifiesControllerService":false,"sensitive":false},"Data RecordPath":{"name":"Data RecordPath","displayName":"Data RecordPath","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"kudu-keep-alive-period-timeout-ms":{"name":"kudu-keep-alive-period-timeout-ms","displayName":"Kudu Keep Alive Period Timeout","identifiesControllerService":false,"sensitive":false},"Operation RecordPath":{"name":"Operation RecordPath","displayName":"Operation RecordPath","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"},{"identifier":"8b143880-552a-3e98-b003-8183c2b60f6c","name":"RetryFlowFile","comments":"","position":{"x":1272.0,"y":1320.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"}],"inputPorts":[{"identifier":"7f5b53b2-3d5c-3e73-acde-633f713ab1d1","name":"In","comments":"","position":{"x":1336.0,"y":952.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"}],"outputPorts":[{"identifier":"276a6ddb-1019-306c-afee-3e9646c68953","name":"Errors","comments":"","position":{"x":1328.0,"y":1512.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"}],"connections":[{"identifier":"4087edc5-5391-3073-82d5-3aa285d66e7c","name":"","source":{"id":"8b143880-552a-3e98-b003-8183c2b60f6c","type":"PROCESSOR","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"RetryFlowFile","comments":""},"destination":{"id":"276a6ddb-1019-306c-afee-3e9646c68953","type":"OUTPUT_PORT","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retries_exceeded","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"},{"identifier":"fc0ef66d-770b-3366-952e-e4edb1080d8e","name":"","source":{"id":"cfbd324e-757f-30ce-a98f-5a0dbb68b129","type":"PROCESSOR","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"Write to Kudu","comments":""},"destination":{"id":"8b143880-552a-3e98-b003-8183c2b60f6c","type":"PROCESSOR","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"RetryFlowFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"},{"identifier":"06b4f488-dc1a-35a2-b554-c2530ad36dd1","name":"","source":{"id":"7f5b53b2-3d5c-3e73-acde-633f713ab1d1","type":"INPUT_PORT","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"In","comments":""},"destination":{"id":"cfbd324e-757f-30ce-a98f-5a0dbb68b129","type":"PROCESSOR","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"Write to Kudu","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"},{"identifier":"91c6e566-a8b4-396c-8981-9ee53d38be10","name":"","source":{"id":"8b143880-552a-3e98-b003-8183c2b60f6c","type":"PROCESSOR","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"RetryFlowFile","comments":""},"destination":{"id":"cfbd324e-757f-30ce-a98f-5a0dbb68b129","type":"PROCESSOR","groupId":"5fc2861f-0fdd-3c02-ac93-eed2fa053466","name":"Write to Kudu","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1152.0,"y":1288.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"}],"labels":[{"identifier":"a37bbf21-ddea-3317-b159-9d6ad92285c3","position":{"x":1160.0,"y":784.0},"label":"REAL-TIME DATAMART\nAPACHE KUDU","width":584.0,"height":104.0,"style":{"background-color":"#d6f7ff","font-size":"24px"},"componentType":"LABEL","groupIdentifier":"5fc2861f-0fdd-3c02-ac93-eed2fa053466"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"sensors","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Generator","comments":"","position":{"x":1440.0,"y":400.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"213a0838-1fff-364f-9a53-7344d5a15429","name":"Set Source","comments":"","position":{"x":2464.0,"y":928.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Mime-Type":"application/json","Delete Attributes Expression":null,"edge.datatype":"energy","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","edge.source":"generator","schema.name":"energy","mime.type":"application/json","Stateful Variables Initial Value":null,"content.type":"application/json","Content-Type":"application/json"},"propertyDescriptors":{"Mime-Type":{"name":"Mime-Type","displayName":"Mime-Type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"edge.datatype":{"name":"edge.datatype","displayName":"edge.datatype","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"edge.source":{"name":"edge.source","displayName":"edge.source","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"content.type":{"name":"content.type","displayName":"content.type","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"},{"identifier":"53f3398c-1391-3529-89b8-f67d62bce49c","name":"Set Source","comments":"","position":{"x":1856.0,"y":936.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Mime-Type":"application/json","Delete Attributes Expression":null,"edge.datatype":"scada","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Mime.Type":"application/json","edge.source":"generator","schema.name":"scada","mime.type":"application/json","Stateful Variables Initial Value":null,"content.type":"application/json","Content-Type":"application/json"},"propertyDescriptors":{"Mime-Type":{"name":"Mime-Type","displayName":"Mime-Type","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"edge.datatype":{"name":"edge.datatype","displayName":"edge.datatype","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Mime.Type":{"name":"Mime.Type","displayName":"Mime.Type","identifiesControllerService":false,"sensitive":false},"edge.source":{"name":"edge.source","displayName":"edge.source","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"content.type":{"name":"content.type","displayName":"content.type","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"},{"identifier":"536f734f-96de-30b7-953e-e8d928a91ebe","name":"Sensors","comments":"","position":{"x":1872.0,"y":720.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"825B","mime-type":"application/json","generate-ff-custom-text":"{\"uuid\": \"rpi4_uuid_fos_${UUID()}\", \n\"amplitude100\": ${random():mod(9)}.${random():mod(9)}, \n\"amplitude500\": 0.${random():mod(9)}, \n\"amplitude1000\": 0.${random():mod(9)}, \n\"lownoise\": 0.${random():mod(9)}, \n\"midnoise\": 0.${random():mod(9)}, \n\"highnoise\": 0.${random():mod(9)}, \n\"amps\": 0.${random():mod(10):plus(1)}, \n\"ipaddress\": \"${ip()}\", \n\"host\": \"rp4\", \n\"host_name\": \"rp4\", \n\"macaddress\": \"f6:da:31:26:ae:f5\", \n\"systemtime\": \"${now():format(\"MM/dd/yyyy HH:mm:ss\", \"EST\")}\", \n\"endtime\": \"${now()}\",\n\"runtime\": \"${math(\"random\"):mod(12345)}.48\", \n\"starttime\": \"${now():format(\"MM/dd/yyyy HH:mm:ss\", \"EST\")}\", \n\"cpu\": 67, \n\"cpu_temp\": \"${math(\"random\"):mod(100):plus(1)}.0\", \n\"diskusage\": \"${math(\"random\"):mod(100000):plus(1)} MB\",\n\"memory\": ${random():mod(95):plus(10)},\n\"id\": \"${now():format(\"MMddyyyyHHmmss\")}_${UUID()}\", \n\"temperature\": \"${random():mod(105):plus(15)}\",\n\"adjtemp\": \"${random():mod(60):plus(40)}\",\n\"adjtempf\": \"${random():mod(99):plus(50)}\",\n\"temperaturef\": \"${random():mod(125):plus(70)}\",\n\"pressure\": ${random():mod(1000):plus(500)}.${random():mod(9)}, \n\"humidity\": ${random():mod(1000):plus(600)}.${random():mod(8)}, \n\"lux\": ${random():mod(232):plus(10)}.5,\n\"proximity\": 1, \n\"oxidising\": ${random():mod(99)}.${random():mod(8):plus(1)}, \n\"reducing\": ${random():mod(999)}.${random():mod(7):plus(1)},  \n\"nh3\": ${random():mod(106)}.3, \n\"gasKO\": \"Oxidising: ${random():mod(99999)}.30 Ohms\\nReducing: ${random():mod(89999)}.56 Ohms\\nNH3: ${random():mod(79999)}.33 Ohms\"}","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"1 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"},{"identifier":"58035b47-c5d1-3167-b405-51ad036db26d","name":"Energy","comments":"","position":{"x":2448.0,"y":712.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","properties":{"character-set":"UTF-8","File Size":"1369B","mime-type":"application/json","generate-ff-custom-text":"{\n\"current\": 0.${random():mod(99999):plus(2)}, \n\"voltage\": ${random():mod(95):plus(1)}, \n\"power\": ${random():mod(10):plus(3)}, \n\"total\": 0.035, \n\"sw_ver\": \"1.2.5 Build 171206 Rel.085954\", \n\"hw_ver\": \"1.0\", \n\"type\": \"IOT.SMARTPLUGSWITCH\", \n\"model\": \"HS110(US)\", \n\"mac\": \"50:C7:BF:B1:95:D5\", \n\"deviceId\": \"8006ECB1D454C4428953CB2B34D9292D18A6DB0E\", \n\"hwId\": \"60FF6B258734EA6880E186F8C96DDC61\", \n\"fwId\": \"00000000000000000000000000000000\", \n\"oemId\": \"FFF22CFF774A0B89F7624BFC6F50D5DE\", \n\"alias\": \"Fan\", \n\"dev_name\": \"Wi-Fi Smart Plug With Energy Monitoring\", \n\"icon_hash\": \"\", \n\"relay_state\": 1, \n\"on_time\": ${random():mod(66676):plus(1000)}, \n\"active_mode\": \"schedule\", \n\"feature\": \"TIM:ENE\", \n\"updating\": 0, \n\"rssi\": -71, \n\"led_off\": 0, \n\"latitude\": 40.268272, \"longitude\": -74.529139,\n\"day3\": 0.001, \"day4\": 0, \"day5\": 0, \"day6\": 0, \n\"day7\": 0, \"day8\": 0, \"day9\": 0, \"day10\": 0,\n\"day11\": 0, \"day12\": 0, \"day13\": 0, \"day14\": 0, \n\"day17\": 0.088, \"day18\": 0.135, \"day19\": 0.078,\n\"index\": 18, \n\"zone_str\": \"(UTC-05:00) Eastern Daylight Time (US & Canada)\", \n\"tz_str\": \"EST5EDT,M3.2.0,M11.1.0\", \n\"dst_offset\": 60, \n\"month1\": 0.001, \n\"month2\": 0.002, \n\"month3\": 1.08, \n\"month4\": 0.924, \n\"month5\": 0.302,\n\"host\": \"192.168.1.226\", \n\"current_consumption\": ${random():mod(9):plus(1)}.${random():mod(999999):plus(100000)}, \n\"devicetime\": \"${now():format(\"MM/dd/yyyy HH:mm:ss\", \"EST\")}\", \n\"ledon\": true, \n\"fanstatus\": \"ON\", \n\"end\": \"${random():mod(1000):plus(1)}\",\n\"te\": \"0.${random():mod(1000):plus(1)}\",\n\"systemtime\": \"${now():format(\"MM/dd/yyyy HH:mm:ss\", \"EST\")}\",\n\"cpu\": 39,\n\"diskusage\": \"${math(\"random\"):mod(1000):plus(10)}.3 MB\",\n\"memory\": ${random():mod(95):plus(10)},\n\"uuid\": \"${UUID()}\"\n}","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"30 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"}],"inputPorts":[],"outputPorts":[{"identifier":"74e86456-6c39-31f4-a116-7d63bb73cf9f","name":"Out","position":{"x":2300.000024414063,"y":1197.999984741211},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"}],"connections":[{"identifier":"22236efc-b83c-3433-a5f8-cda218be85a0","name":"","source":{"id":"213a0838-1fff-364f-9a53-7344d5a15429","type":"PROCESSOR","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Set Source","comments":""},"destination":{"id":"74e86456-6c39-31f4-a116-7d63bb73cf9f","type":"OUTPUT_PORT","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Out"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"},{"identifier":"1a328c55-f5f2-3c40-a5f6-5ea1f5ba5862","name":"","source":{"id":"58035b47-c5d1-3167-b405-51ad036db26d","type":"PROCESSOR","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Energy","comments":""},"destination":{"id":"213a0838-1fff-364f-9a53-7344d5a15429","type":"PROCESSOR","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Set Source","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"},{"identifier":"6578c263-5ae0-3e88-aa24-8ff97aabdf24","name":"","source":{"id":"53f3398c-1391-3529-89b8-f67d62bce49c","type":"PROCESSOR","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Set Source","comments":""},"destination":{"id":"74e86456-6c39-31f4-a116-7d63bb73cf9f","type":"OUTPUT_PORT","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Out"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"},{"identifier":"8fb58963-7efe-33f4-b7a2-65f797320716","name":"","source":{"id":"536f734f-96de-30b7-953e-e8d928a91ebe","type":"PROCESSOR","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Sensors","comments":""},"destination":{"id":"53f3398c-1391-3529-89b8-f67d62bce49c","type":"PROCESSOR","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Set Source","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"231e6e94-18ab-33cc-b33e-f5a6ad75115f"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"0760b402-a92f-3d14-a550-624dee77b172","name":"Object Storage","comments":"","position":{"x":520.0,"y":1208.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"143cd1c8-f2d9-39e0-aaba-cf3cad6940ba","name":"Store Where?","comments":"","position":{"x":-648.0,"y":208.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"Routing Strategy":"Route to Property name","isScada":"${schema.name:equals('scada')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"isScada":{"name":"isScada","displayName":"isScada","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"cf06e4e9-1827-3f3f-814e-6e377efe5467","name":"PutS3Object","comments":"","position":{"x":216.0,"y":648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","properties":{"Proxy Host":null,"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","proxy-configuration-service":null,"Cache Control":null,"s3-object-remove-tags-prefix":"false","Endpoint Override URL":null,"Multipart Upload Max Age Threshold":"7 days","canned-acl":"${s3.permissions.cannedacl}","Signer Override":"Default Signature","Content Type":null,"Write ACL User List":"${s3.permissions.writeacl.users}","server-side-encryption":"None","Read ACL User List":"${s3.permissions.readacl.users}","encryption-service":null,"Content Disposition":null,"Storage Class":"Standard","Multipart Part Size":"5 GB","use-chunked-encoding":"true","Object Key":"${filename}","AWS Credentials Provider service":"5e00ec4e-f03b-3f7c-bfd7-c17119c07cb3","Multipart Threshold":"5 GB","s3-object-tags-prefix":null,"SSL Context Service":null,"Bucket":null,"Multipart Upload AgeOff Interval":"60 min","use-path-style-access":"false","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Credentials File":null,"Region":"us-west-2","Read Permission User List":"${s3.permissions.read.users}","Expiration Time Rule":null,"proxy-user-name":null,"Proxy Host Port":null,"s3-temporary-directory-multipart":"${java.io.tmpdir}"},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"FullControl User List":{"name":"FullControl User List","displayName":"FullControl User List","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Cache Control":{"name":"Cache Control","displayName":"Cache Control","identifiesControllerService":false,"sensitive":false},"s3-object-remove-tags-prefix":{"name":"s3-object-remove-tags-prefix","displayName":"Remove Tag Prefix","identifiesControllerService":false,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"Multipart Upload Max Age Threshold":{"name":"Multipart Upload Max Age Threshold","displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"sensitive":false},"canned-acl":{"name":"canned-acl","displayName":"Canned ACL","identifiesControllerService":false,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Content Type":{"name":"Content Type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Write ACL User List":{"name":"Write ACL User List","displayName":"Write ACL User List","identifiesControllerService":false,"sensitive":false},"server-side-encryption":{"name":"server-side-encryption","displayName":"Server Side Encryption","identifiesControllerService":false,"sensitive":false},"Read ACL User List":{"name":"Read ACL User List","displayName":"Read ACL User List","identifiesControllerService":false,"sensitive":false},"encryption-service":{"name":"encryption-service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false},"Content Disposition":{"name":"Content Disposition","displayName":"Content Disposition","identifiesControllerService":false,"sensitive":false},"Storage Class":{"name":"Storage Class","displayName":"Storage Class","identifiesControllerService":false,"sensitive":false},"Multipart Part Size":{"name":"Multipart Part Size","displayName":"Multipart Part Size","identifiesControllerService":false,"sensitive":false},"use-chunked-encoding":{"name":"use-chunked-encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"Multipart Threshold":{"name":"Multipart Threshold","displayName":"Multipart Threshold","identifiesControllerService":false,"sensitive":false},"s3-object-tags-prefix":{"name":"s3-object-tags-prefix","displayName":"Object Tags Prefix","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Multipart Upload AgeOff Interval":{"name":"Multipart Upload AgeOff Interval","displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"sensitive":false},"use-path-style-access":{"name":"use-path-style-access","displayName":"Use Path Style Access","identifiesControllerService":false,"sensitive":false},"Write Permission User List":{"name":"Write Permission User List","displayName":"Write Permission User List","identifiesControllerService":false,"sensitive":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Read Permission User List":{"name":"Read Permission User List","displayName":"Read Permission User List","identifiesControllerService":false,"sensitive":false},"Expiration Time Rule":{"name":"Expiration Time Rule","displayName":"Expiration Time Rule","identifiesControllerService":false,"sensitive":false},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"s3-temporary-directory-multipart":{"name":"s3-temporary-directory-multipart","displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"c10008f7-0147-3c86-8b21-0d903434a5c5","name":"MergeRecord","comments":"","position":{"x":672.0,"y":648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.MergeRecord","properties":{"max-bin-age":"1 minutes","correlation-attribute-name":null,"Attribute Strategy":"Keep Only Common Attributes","min-records":"20","max-bin-size":null,"record-writer":"538fb1be-f196-35b0-97a1-41c72de4941f","merge-strategy":"Bin-Packing Algorithm","record-reader":"c04ce46b-eb77-3d80-82cf-545635f27605","max-records":"1000","min-bin-size":"100 B","max.bin.count":"10"},"propertyDescriptors":{"max-bin-age":{"name":"max-bin-age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"correlation-attribute-name":{"name":"correlation-attribute-name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"min-records":{"name":"min-records","displayName":"Minimum Number of Records","identifiesControllerService":false,"sensitive":false},"max-bin-size":{"name":"max-bin-size","displayName":"Maximum Bin Size","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"merge-strategy":{"name":"merge-strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"max-records":{"name":"max-records","displayName":"Maximum Number of Records","identifiesControllerService":false,"sensitive":false},"min-bin-size":{"name":"min-bin-size","displayName":"Minimum Bin Size","identifiesControllerService":false,"sensitive":false},"max.bin.count":{"name":"max.bin.count","displayName":"Maximum Number of Bins","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"4a660b07-3fa8-30b4-b1fd-59da3ec04b2d","name":"RetryFlowFile","comments":"","position":{"x":-1056.0,"y":640.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"434628b8-4805-38b8-ae6f-d95d937d2cb9","name":"MergeRecord","comments":"","position":{"x":-264.0,"y":416.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.MergeRecord","properties":{"max-bin-age":"1 minutes","correlation-attribute-name":null,"Attribute Strategy":"Keep Only Common Attributes","min-records":"25","max-bin-size":null,"record-writer":"1b9e338b-2a92-3627-b9ab-4dd335f2d66e","merge-strategy":"Bin-Packing Algorithm","record-reader":"c04ce46b-eb77-3d80-82cf-545635f27605","max-records":"25000","min-bin-size":"512 B","max.bin.count":"10"},"propertyDescriptors":{"max-bin-age":{"name":"max-bin-age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"correlation-attribute-name":{"name":"correlation-attribute-name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"min-records":{"name":"min-records","displayName":"Minimum Number of Records","identifiesControllerService":false,"sensitive":false},"max-bin-size":{"name":"max-bin-size","displayName":"Maximum Bin Size","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"merge-strategy":{"name":"merge-strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"max-records":{"name":"max-records","displayName":"Maximum Number of Records","identifiesControllerService":false,"sensitive":false},"min-bin-size":{"name":"min-bin-size","displayName":"Minimum Bin Size","identifiesControllerService":false,"sensitive":false},"max.bin.count":{"name":"max.bin.count","displayName":"Maximum Number of Bins","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"d6f78617-b2a8-3e85-b49b-956d8b5709eb","name":"PutAzureDataLakeStorage","comments":"","position":{"x":1120.0,"y":648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-azure-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.azure.storage.PutAzureDataLakeStorage","properties":{"filesystem-name":null,"conflict-resolution-strategy":"fail","adls-credentials-service":null,"directory-name":"${directoryName}","file-name":"${azure.filename}"},"propertyDescriptors":{"filesystem-name":{"name":"filesystem-name","displayName":"Filesystem Name","identifiesControllerService":false,"sensitive":false},"conflict-resolution-strategy":{"name":"conflict-resolution-strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false},"adls-credentials-service":{"name":"adls-credentials-service","displayName":"ADLS Credentials","identifiesControllerService":true,"sensitive":false},"directory-name":{"name":"directory-name","displayName":"Directory Name","identifiesControllerService":false,"sensitive":false},"file-name":{"name":"file-name","displayName":"File Name","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"9e8bb527-0348-36c5-8b40-20397dc3867c","name":"RetryFlowFile","comments":"","position":{"x":-256.0,"y":840.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RetryFlowFile","properties":{"penalize-retries":"true","maximum-retries":"3","Fail on Non-numerical Overwrite":"false","reuse-mode":"fail","retry-attribute":"flowfile.retries"},"propertyDescriptors":{"penalize-retries":{"name":"penalize-retries","displayName":"Penalize Retries","identifiesControllerService":false,"sensitive":false},"maximum-retries":{"name":"maximum-retries","displayName":"Maximum Retries","identifiesControllerService":false,"sensitive":false},"Fail on Non-numerical Overwrite":{"name":"Fail on Non-numerical Overwrite","displayName":"Fail on Non-numerical Overwrite","identifiesControllerService":false,"sensitive":false},"reuse-mode":{"name":"reuse-mode","displayName":"Reuse Mode","identifiesControllerService":false,"sensitive":false},"retry-attribute":{"name":"retry-attribute","displayName":"Retry Attribute","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"33b895f6-1970-3c5b-bf18-fb99d093794f","name":"PutGCSObject","comments":"","position":{"x":1560.0,"y":648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.gcp.storage.PutGCSObject","properties":{"gcp-proxy-host":null,"gcs-content-disposition-type":null,"gcp-retry-count":"6","proxy-configuration-service":null,"gcs-overwrite-object":"true","gcp-proxy-user-name":null,"gcs-object-md5":null,"gcs-content-type":"${mime.type}","gcs-object-crc32c":null,"gcp-project-id":null,"GCP Credentials Provider Service":null,"gcs-key":"${filename}","gcp-proxy-port":null,"gcs-bucket":"${gcs.bucket}","gcs-object-acl":null},"propertyDescriptors":{"gcp-proxy-host":{"name":"gcp-proxy-host","displayName":"Proxy host","identifiesControllerService":false,"sensitive":false},"gcs-content-disposition-type":{"name":"gcs-content-disposition-type","displayName":"Content Disposition Type","identifiesControllerService":false,"sensitive":false},"gcp-retry-count":{"name":"gcp-retry-count","displayName":"Number of retries","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"gcs-server-side-encryption-key":{"name":"gcs-server-side-encryption-key","displayName":"Server Side Encryption Key","identifiesControllerService":false,"sensitive":true},"gcs-overwrite-object":{"name":"gcs-overwrite-object","displayName":"Overwrite Object","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-name":{"name":"gcp-proxy-user-name","displayName":"HTTP Proxy Username","identifiesControllerService":false,"sensitive":false},"gcs-object-md5":{"name":"gcs-object-md5","displayName":"MD5 Hash","identifiesControllerService":false,"sensitive":false},"gcs-content-type":{"name":"gcs-content-type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false},"gcs-object-crc32c":{"name":"gcs-object-crc32c","displayName":"CRC32C Checksum","identifiesControllerService":false,"sensitive":false},"gcp-project-id":{"name":"gcp-project-id","displayName":"Project ID","identifiesControllerService":false,"sensitive":false},"GCP Credentials Provider Service":{"name":"GCP Credentials Provider Service","displayName":"GCP Credentials Provider Service","identifiesControllerService":true,"sensitive":false},"gcs-key":{"name":"gcs-key","displayName":"Key","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-password":{"name":"gcp-proxy-user-password","displayName":"HTTP Proxy Password","identifiesControllerService":false,"sensitive":true},"gcp-proxy-port":{"name":"gcp-proxy-port","displayName":"Proxy port","identifiesControllerService":false,"sensitive":false},"gcs-bucket":{"name":"gcs-bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"gcs-object-acl":{"name":"gcs-object-acl","displayName":"Object ACL","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"a828eb4b-7235-359b-ac9c-176c85cd00cb","name":"PutParquet","comments":"","position":{"x":-1056.0,"y":424.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-parquet-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.parquet.PutParquet","properties":{"Hadoop Configuration Resources":"/etc/hadoop/conf/core-site.xml","max-padding-size":null,"avro-write-old-list-structure":"true","Additional Classpath Resources":null,"permissions-umask":null,"remote-group":null,"row-group-size":null,"remote-owner":null,"enable-dictionary-encoding":null,"kerberos-credentials-service":null,"page-size":null,"writer-version":null,"Kerberos Keytab":null,"compression-type":"UNCOMPRESSED","enable-validation":null,"dictionary-page-size":null,"Kerberos Principal":null,"record-reader":"e285cb55-47d4-397b-98d9-69f459a65ce8","Kerberos Relogin Period":"4 hours","overwrite":"true","avro-add-list-element-records":"true","remove-crc-files":"false","Directory":"/tmp/${directoryName}"},"propertyDescriptors":{"Hadoop Configuration Resources":{"name":"Hadoop Configuration Resources","displayName":"Hadoop Configuration Resources","identifiesControllerService":false,"sensitive":false},"max-padding-size":{"name":"max-padding-size","displayName":"Max Padding Size","identifiesControllerService":false,"sensitive":false},"avro-write-old-list-structure":{"name":"avro-write-old-list-structure","displayName":"Avro Write Old List Structure","identifiesControllerService":false,"sensitive":false},"Additional Classpath Resources":{"name":"Additional Classpath Resources","displayName":"Additional Classpath Resources","identifiesControllerService":false,"sensitive":false},"permissions-umask":{"name":"permissions-umask","displayName":"Permissions umask","identifiesControllerService":false,"sensitive":false},"remote-group":{"name":"remote-group","displayName":"Remote Group","identifiesControllerService":false,"sensitive":false},"row-group-size":{"name":"row-group-size","displayName":"Row Group Size","identifiesControllerService":false,"sensitive":false},"remote-owner":{"name":"remote-owner","displayName":"Remote Owner","identifiesControllerService":false,"sensitive":false},"enable-dictionary-encoding":{"name":"enable-dictionary-encoding","displayName":"Enable Dictionary Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"page-size":{"name":"page-size","displayName":"Page Size","identifiesControllerService":false,"sensitive":false},"writer-version":{"name":"writer-version","displayName":"Writer Version","identifiesControllerService":false,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"Kerberos Keytab":{"name":"Kerberos Keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false},"compression-type":{"name":"compression-type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"enable-validation":{"name":"enable-validation","displayName":"Enable Validation","identifiesControllerService":false,"sensitive":false},"dictionary-page-size":{"name":"dictionary-page-size","displayName":"Dictionary Page Size","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Kerberos Relogin Period":{"name":"Kerberos Relogin Period","displayName":"Kerberos Relogin Period","identifiesControllerService":false,"sensitive":false},"overwrite":{"name":"overwrite","displayName":"Overwrite Files","identifiesControllerService":false,"sensitive":false},"avro-add-list-element-records":{"name":"avro-add-list-element-records","displayName":"Avro Add List Element Records","identifiesControllerService":false,"sensitive":false},"remove-crc-files":{"name":"remove-crc-files","displayName":"Remove CRC Files","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"100 ms","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"b69f9239-ff43-36db-bde4-a0fffe2c6ca7","name":"PutHDFS","comments":"","position":{"x":-264.0,"y":648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-hadoop-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.hadoop.PutHDFS","properties":{"Permissions umask":null,"Hadoop Configuration Resources":"/etc/hadoop/conf/core-site.xml","Remote Owner":null,"Additional Classpath Resources":null,"Compression codec":"NONE","IO Buffer Size":null,"Remote Group":null,"Block Size":null,"kerberos-credentials-service":null,"Kerberos Keytab":null,"Ignore Locality":"false","Kerberos Principal":null,"Replication":null,"Kerberos Relogin Period":"4 hours","Directory":"/tmp/${directoryName}","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Permissions umask":{"name":"Permissions umask","displayName":"Permissions umask","identifiesControllerService":false,"sensitive":false},"Hadoop Configuration Resources":{"name":"Hadoop Configuration Resources","displayName":"Hadoop Configuration Resources","identifiesControllerService":false,"sensitive":false},"Remote Owner":{"name":"Remote Owner","displayName":"Remote Owner","identifiesControllerService":false,"sensitive":false},"Additional Classpath Resources":{"name":"Additional Classpath Resources","displayName":"Additional Classpath Resources","identifiesControllerService":false,"sensitive":false},"Compression codec":{"name":"Compression codec","displayName":"Compression codec","identifiesControllerService":false,"sensitive":false},"IO Buffer Size":{"name":"IO Buffer Size","displayName":"IO Buffer Size","identifiesControllerService":false,"sensitive":false},"Remote Group":{"name":"Remote Group","displayName":"Remote Group","identifiesControllerService":false,"sensitive":false},"Block Size":{"name":"Block Size","displayName":"Block Size","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"Kerberos Keytab":{"name":"Kerberos Keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false},"Ignore Locality":{"name":"Ignore Locality","displayName":"Ignore Locality","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Replication":{"name":"Replication","displayName":"Replication","identifiesControllerService":false,"sensitive":false},"Kerberos Relogin Period":{"name":"Kerberos Relogin Period","displayName":"Kerberos Relogin Period","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"563e92ea-2c6d-32f4-8a8e-68728b70858e","name":"PutORC","comments":"","position":{"x":672.0,"y":888.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-hive3-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.orc.PutORC","properties":{"putorc-config-resources":null,"Hadoop Configuration Resources":"/etc/hive/conf/hive-site.xml, /etc/hive/conf/core-site.xml, /etc/hadoop/conf/hdfs-site.xml","Additional Classpath Resources":null,"permissions-umask":null,"remote-group":null,"putorc-hive-table-name":"${directoryName}","remote-owner":null,"kerberos-credentials-service":null,"putorc-stripe-size":"64 MB","putorc-buffer-size":"10 KB","Kerberos Keytab":null,"compression-type":"NONE","putorc-hive-field-names":"true","Kerberos Principal":null,"record-reader":"dd64680b-5f08-3da7-b7b9-f4cead87c543","Kerberos Relogin Period":"4 hours","overwrite":"false","Directory":"/tmp/${directoryName}"},"propertyDescriptors":{"putorc-config-resources":{"name":"putorc-config-resources","displayName":"ORC Configuration Resources","identifiesControllerService":false,"sensitive":false},"Hadoop Configuration Resources":{"name":"Hadoop Configuration Resources","displayName":"Hadoop Configuration Resources","identifiesControllerService":false,"sensitive":false},"Additional Classpath Resources":{"name":"Additional Classpath Resources","displayName":"Additional Classpath Resources","identifiesControllerService":false,"sensitive":false},"permissions-umask":{"name":"permissions-umask","displayName":"Permissions umask","identifiesControllerService":false,"sensitive":false},"remote-group":{"name":"remote-group","displayName":"Remote Group","identifiesControllerService":false,"sensitive":false},"putorc-hive-table-name":{"name":"putorc-hive-table-name","displayName":"Hive Table Name","identifiesControllerService":false,"sensitive":false},"remote-owner":{"name":"remote-owner","displayName":"Remote Owner","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"putorc-stripe-size":{"name":"putorc-stripe-size","displayName":"Stripe Size","identifiesControllerService":false,"sensitive":false},"putorc-buffer-size":{"name":"putorc-buffer-size","displayName":"Buffer Size","identifiesControllerService":false,"sensitive":false},"Kerberos Keytab":{"name":"Kerberos Keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false},"compression-type":{"name":"compression-type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"putorc-hive-field-names":{"name":"putorc-hive-field-names","displayName":"Normalize Field Names for Hive","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Kerberos Relogin Period":{"name":"Kerberos Relogin Period","displayName":"Kerberos Relogin Period","identifiesControllerService":false,"sensitive":false},"overwrite":{"name":"overwrite","displayName":"Overwrite Files","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"100 ms","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"}],"inputPorts":[{"identifier":"f339d32b-15e4-3bb0-8bcd-caadb8903229","name":"In","comments":"","position":{"x":-592.0,"y":104.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"}],"outputPorts":[{"identifier":"a095bd78-53b7-3362-9995-5b3241d9d751","name":"Errors","comments":"","position":{"x":-672.0,"y":1064.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"}],"connections":[{"identifier":"bbd35cac-62f3-3315-a9d8-8f4fdb936a3c","name":"","source":{"id":"4a660b07-3fa8-30b4-b1fd-59da3ec04b2d","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"RetryFlowFile","comments":""},"destination":{"id":"a095bd78-53b7-3362-9995-5b3241d9d751","type":"OUTPUT_PORT","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retries_exceeded","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"05656617-15f5-3778-936d-35cca38f99fb","name":"","source":{"id":"434628b8-4805-38b8-ae6f-d95d937d2cb9","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"MergeRecord","comments":""},"destination":{"id":"b69f9239-ff43-36db-bde4-a0fffe2c6ca7","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"PutHDFS","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"d075e336-cb2e-3c21-b884-84f30145378f","name":"","source":{"id":"9e8bb527-0348-36c5-8b40-20397dc3867c","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"RetryFlowFile","comments":""},"destination":{"id":"b69f9239-ff43-36db-bde4-a0fffe2c6ca7","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"PutHDFS","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-456.0,"y":824.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"9e2968df-655f-3b91-a1e0-f0e671281acc","name":"","source":{"id":"9e8bb527-0348-36c5-8b40-20397dc3867c","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"RetryFlowFile","comments":""},"destination":{"id":"a095bd78-53b7-3362-9995-5b3241d9d751","type":"OUTPUT_PORT","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retries_exceeded","failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"212d8f6e-ec77-32a0-af63-45f593d7041e","name":"","source":{"id":"f339d32b-15e4-3bb0-8bcd-caadb8903229","type":"INPUT_PORT","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"In","comments":""},"destination":{"id":"143cd1c8-f2d9-39e0-aaba-cf3cad6940ba","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"Store Where?","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":1000000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"6748f458-e805-37ac-9e05-7267193b72f1","name":"","source":{"id":"4a660b07-3fa8-30b4-b1fd-59da3ec04b2d","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"RetryFlowFile","comments":""},"destination":{"id":"a828eb4b-7235-359b-ac9c-176c85cd00cb","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"PutParquet","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-1152.0,"y":600.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"87b5325f-eb9b-33a3-8fcd-f77892e7af53","name":"","source":{"id":"143cd1c8-f2d9-39e0-aaba-cf3cad6940ba","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"Store Where?","comments":""},"destination":{"id":"a828eb4b-7235-359b-ac9c-176c85cd00cb","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"PutParquet","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["isScada"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"ae693368-be26-3466-9097-98129eccbc75","name":"","source":{"id":"c10008f7-0147-3c86-8b21-0d903434a5c5","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"MergeRecord","comments":""},"destination":{"id":"563e92ea-2c6d-32f4-8a8e-68728b70858e","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"PutORC","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"dea044a4-7b6e-3a94-a228-6392fcc3f998","name":"","source":{"id":"a828eb4b-7235-359b-ac9c-176c85cd00cb","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"PutParquet","comments":""},"destination":{"id":"4a660b07-3fa8-30b4-b1fd-59da3ec04b2d","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"RetryFlowFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure","retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"a5978a55-91af-3c4e-894b-d99428860fea","name":"","source":{"id":"143cd1c8-f2d9-39e0-aaba-cf3cad6940ba","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"Store Where?","comments":""},"destination":{"id":"434628b8-4805-38b8-ae6f-d95d937d2cb9","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"MergeRecord","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"},{"identifier":"71cf7554-a4d5-3fcf-8278-763033840940","name":"","source":{"id":"b69f9239-ff43-36db-bde4-a0fffe2c6ca7","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"PutHDFS","comments":""},"destination":{"id":"9e8bb527-0348-36c5-8b40-20397dc3867c","type":"PROCESSOR","groupId":"0760b402-a92f-3d14-a550-624dee77b172","name":"RetryFlowFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"}],"labels":[{"identifier":"b2bff98c-efba-3f2f-8884-4040db2d4865","position":{"x":-864.0,"y":-64.0},"label":"OBJECT STORAGE\nHDFS ON S3","width":584.0,"height":104.0,"style":{"background-color":"#d6f7ff","font-size":"24px"},"componentType":"LABEL","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"}],"funnels":[],"controllerServices":[{"identifier":"02839115-161b-31d4-874b-b731b9f46778","name":"ParquetRecordSetWriter","comments":"","type":"org.apache.nifi.parquet.ParquetRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-parquet-nar","version":"1.13.2.2.1.1.0-13"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.13.2.2.1.1.0-13"}}],"properties":{"schema-branch":null,"max-padding-size":null,"avro-write-old-list-structure":"true","row-group-size":null,"schema-cache":null,"enable-dictionary-encoding":null,"Schema Write Strategy":"no-schema","page-size":null,"writer-version":null,"compression-type":"UNCOMPRESSED","schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"enable-validation":null,"dictionary-page-size":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}","avro-add-list-element-records":"true"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"max-padding-size":{"name":"max-padding-size","displayName":"Max Padding Size","identifiesControllerService":false,"sensitive":false},"avro-write-old-list-structure":{"name":"avro-write-old-list-structure","displayName":"Avro Write Old List Structure","identifiesControllerService":false,"sensitive":false},"row-group-size":{"name":"row-group-size","displayName":"Row Group Size","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"enable-dictionary-encoding":{"name":"enable-dictionary-encoding","displayName":"Enable Dictionary Encoding","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"page-size":{"name":"page-size","displayName":"Page Size","identifiesControllerService":false,"sensitive":false},"writer-version":{"name":"writer-version","displayName":"Writer Version","identifiesControllerService":false,"sensitive":false},"compression-type":{"name":"compression-type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"enable-validation":{"name":"enable-validation","displayName":"Enable Validation","identifiesControllerService":false,"sensitive":false},"dictionary-page-size":{"name":"dictionary-page-size","displayName":"Dictionary Page Size","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false},"avro-add-list-element-records":{"name":"avro-add-list-element-records","displayName":"Avro Add List Element Records","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"0760b402-a92f-3d14-a550-624dee77b172"}],"variables":{},"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"50816802-eb53-3186-a722-1676be430cdf","name":"HTTP Alerts","comments":"","position":{"x":536.0,"y":1664.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"537aeeac-f003-314c-92f3-98117c07cd3a","name":"ListenHTTP","comments":"","position":{"x":552.0,"y":64.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.ListenHTTP","properties":{"multipart-request-max-size":"20 MB","HTTP Headers to receive as Attributes (Regex)":".*","health-check-port":null,"Authorized DN Pattern":".*","max-thread-pool-size":"200","Base Path":"energyAlerts","multipart-read-buffer-size":"512 KB","SSL Context Service":null,"Max Unconfirmed Flowfile Time":"120 secs","Max Data to Receive per Second":null,"client-authentication":"AUTO","Return Code":"200","Listening Port":"8399"},"propertyDescriptors":{"multipart-request-max-size":{"name":"multipart-request-max-size","displayName":"Multipart Request Max Size","identifiesControllerService":false,"sensitive":false},"HTTP Headers to receive as Attributes (Regex)":{"name":"HTTP Headers to receive as Attributes (Regex)","displayName":"HTTP Headers to receive as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"health-check-port":{"name":"health-check-port","displayName":"Listening Port for Health Check Requests","identifiesControllerService":false,"sensitive":false},"Authorized DN Pattern":{"name":"Authorized DN Pattern","displayName":"Authorized DN Pattern","identifiesControllerService":false,"sensitive":false},"max-thread-pool-size":{"name":"max-thread-pool-size","displayName":"Maximum Thread Pool Size","identifiesControllerService":false,"sensitive":false},"Base Path":{"name":"Base Path","displayName":"Base Path","identifiesControllerService":false,"sensitive":false},"multipart-read-buffer-size":{"name":"multipart-read-buffer-size","displayName":"Multipart Read Buffer Size","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Max Unconfirmed Flowfile Time":{"name":"Max Unconfirmed Flowfile Time","displayName":"Max Unconfirmed Flowfile Time","identifiesControllerService":false,"sensitive":false},"Max Data to Receive per Second":{"name":"Max Data to Receive per Second","displayName":"Max Data to Receive per Second","identifiesControllerService":false,"sensitive":false},"client-authentication":{"name":"client-authentication","displayName":"Client Authentication","identifiesControllerService":false,"sensitive":false},"Return Code":{"name":"Return Code","displayName":"Return Code","identifiesControllerService":false,"sensitive":false},"Listening Port":{"name":"Listening Port","displayName":"Listening Port","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"50816802-eb53-3186-a722-1676be430cdf"},{"identifier":"2f0043d0-bc36-3f2d-943a-e2db7990bab7","name":"ExecuteStreamCommand","comments":"","position":{"x":560.0,"y":464.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Command Path":null,"Working Directory":null,"Output Destination Attribute":null,"Argument Delimiter":";","Ignore STDIN":"false","Command Arguments":null},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"50816802-eb53-3186-a722-1676be430cdf"},{"identifier":"1351fa3d-df06-38b4-89ce-87ff43dbeb71","name":"Set Metadata","comments":"","position":{"x":552.0,"y":272.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"schema":"energy","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"energy","Stateful Variables Initial Value":null,"Content-Type":"application/json"},"propertyDescriptors":{"schema":{"name":"schema","displayName":"schema","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"50816802-eb53-3186-a722-1676be430cdf"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"7031d5c1-c4da-3533-9589-b7b95e62111e","name":"","source":{"id":"1351fa3d-df06-38b4-89ce-87ff43dbeb71","type":"PROCESSOR","groupId":"50816802-eb53-3186-a722-1676be430cdf","name":"Set Metadata","comments":""},"destination":{"id":"2f0043d0-bc36-3f2d-943a-e2db7990bab7","type":"PROCESSOR","groupId":"50816802-eb53-3186-a722-1676be430cdf","name":"ExecuteStreamCommand","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50816802-eb53-3186-a722-1676be430cdf"},{"identifier":"4105ed79-080c-3754-8dce-058d1955e0ad","name":"","source":{"id":"537aeeac-f003-314c-92f3-98117c07cd3a","type":"PROCESSOR","groupId":"50816802-eb53-3186-a722-1676be430cdf","name":"ListenHTTP","comments":""},"destination":{"id":"1351fa3d-df06-38b4-89ce-87ff43dbeb71","type":"PROCESSOR","groupId":"50816802-eb53-3186-a722-1676be430cdf","name":"Set Metadata","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"50816802-eb53-3186-a722-1676be430cdf"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"bf9cf262-bc64-3bf1-82d3-392d9f346bb6","name":"Error Processing","comments":"","position":{"x":440.0,"y":2048.0},"processGroups":[],"remoteProcessGroups":[],"processors":[],"inputPorts":[{"identifier":"2d35a537-2b5f-3de1-80aa-bf0e978c8659","name":"Input","position":{"x":424.0,"y":24.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"bf9cf262-bc64-3bf1-82d3-392d9f346bb6"}],"outputPorts":[],"connections":[{"identifier":"89041d16-797b-3b22-a70d-d8e4deb4cebb","name":"","source":{"id":"2d35a537-2b5f-3de1-80aa-bf0e978c8659","type":"INPUT_PORT","groupId":"bf9cf262-bc64-3bf1-82d3-392d9f346bb6","name":"Input"},"destination":{"id":"4e15b703-c455-3912-aeaf-a6917ce6f6b1","type":"FUNNEL","groupId":"bf9cf262-bc64-3bf1-82d3-392d9f346bb6","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"bf9cf262-bc64-3bf1-82d3-392d9f346bb6"}],"labels":[],"funnels":[{"identifier":"4e15b703-c455-3912-aeaf-a6917ce6f6b1","position":{"x":508.0,"y":182.00004882812482},"componentType":"FUNNEL","groupIdentifier":"bf9cf262-bc64-3bf1-82d3-392d9f346bb6"}],"controllerServices":[],"variables":{},"flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"From MQTT Gateway","comments":"","position":{"x":136.0,"y":304.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"41c57a26-ee1e-38ec-8b35-d8aaec37a6ea","name":"ConsumeMQTT","comments":"","position":{"x":368.0,"y":-56.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-mqtt-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.mqtt.ConsumeMQTT","properties":{"Max Queue Size":"2500","Client ID":"cdp-nifi-reader-001","Last Will QoS Level":null,"Connection Timeout (seconds)":"300","record-writer":null,"Broker URI":"tcp://someservermqtt.com:67769","add-attributes-as-fields":"true","SSL Context Service":null,"Username":"mymqttuser","Session state":"true","Quality of Service(QoS)":"1","Last Will Message":null,"Last Will Topic":null,"Topic Filter":"sensors/#","record-reader":null,"Group ID":null,"message-demarcator":null,"MQTT Specification Version":"0","Keep Alive Interval (seconds)":"600","Last Will Retain":null},"propertyDescriptors":{"Max Queue Size":{"name":"Max Queue Size","displayName":"Max Queue Size","identifiesControllerService":false,"sensitive":false},"Client ID":{"name":"Client ID","displayName":"Client ID","identifiesControllerService":false,"sensitive":false},"Last Will QoS Level":{"name":"Last Will QoS Level","displayName":"Last Will QoS Level","identifiesControllerService":false,"sensitive":false},"Connection Timeout (seconds)":{"name":"Connection Timeout (seconds)","displayName":"Connection Timeout (seconds)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Broker URI":{"name":"Broker URI","displayName":"Broker URI","identifiesControllerService":false,"sensitive":false},"add-attributes-as-fields":{"name":"add-attributes-as-fields","displayName":"Add attributes as fields","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Username":{"name":"Username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"Session state":{"name":"Session state","displayName":"Session state","identifiesControllerService":false,"sensitive":false},"Quality of Service(QoS)":{"name":"Quality of Service(QoS)","displayName":"Quality of Service(QoS)","identifiesControllerService":false,"sensitive":false},"Last Will Message":{"name":"Last Will Message","displayName":"Last Will Message","identifiesControllerService":false,"sensitive":false},"Last Will Topic":{"name":"Last Will Topic","displayName":"Last Will Topic","identifiesControllerService":false,"sensitive":false},"Topic Filter":{"name":"Topic Filter","displayName":"Topic Filter","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Group ID":{"name":"Group ID","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"MQTT Specification Version":{"name":"MQTT Specification Version","displayName":"MQTT Specification Version","identifiesControllerService":false,"sensitive":false},"Keep Alive Interval (seconds)":{"name":"Keep Alive Interval (seconds)","displayName":"Keep Alive Interval (seconds)","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"Last Will Retain":{"name":"Last Will Retain","displayName":"Last Will Retain","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"NONE","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["parse.failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"},{"identifier":"f566c6a9-92cd-3140-a91b-f2dcd24f858d","name":"Set Source","comments":"","position":{"x":368.0,"y":336.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"edge.datatype":"scada","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","edge.source":"mqtt","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"edge.datatype":{"name":"edge.datatype","displayName":"edge.datatype","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"edge.source":{"name":"edge.source","displayName":"edge.source","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"},{"identifier":"09fd0a3e-92de-3da1-812d-d912c12d6cda","name":"Only for Temperatures Above 70","comments":"","position":{"x":368.0,"y":144.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{"background-color":"#8408d1"},"type":"org.apache.nifi.processors.standard.QueryRecord","properties":{"all":"SELECT * FROM FLOWFILE\nWHERE CAST(temperaturef as FLOAT) > 60","cache-schema":"true","dbf-default-precision":"10","record-writer":"78f55605-8666-3b0c-ae67-783d97e8ef86","record-reader":"e285cb55-47d4-397b-98d9-69f459a65ce8","include-zero-record-flowfiles":"false","dbf-default-scale":"0"},"propertyDescriptors":{"all":{"name":"all","displayName":"all","identifiesControllerService":false,"sensitive":false},"cache-schema":{"name":"cache-schema","displayName":"Cache Schema","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"NONE","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"}],"inputPorts":[],"outputPorts":[{"identifier":"aafa6d84-dcdf-363e-91c0-7a88eb0bfeca","name":"Errors","comments":"","position":{"x":1046.999998196538,"y":198.99999291992162},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"},{"identifier":"7f851dee-9d9e-3bdc-8a9f-7c8a007b5c0a","name":"Out","comments":"","position":{"x":408.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"}],"connections":[{"identifier":"107d7796-9090-3731-8f87-06640a0f03c4","name":"","source":{"id":"41c57a26-ee1e-38ec-8b35-d8aaec37a6ea","type":"PROCESSOR","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"ConsumeMQTT","comments":""},"destination":{"id":"09fd0a3e-92de-3da1-812d-d912c12d6cda","type":"PROCESSOR","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Only for Temperatures Above 70","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["Message"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"},{"identifier":"b5769c79-85e2-3d40-9e17-c20b5ccf7108","name":"","source":{"id":"09fd0a3e-92de-3da1-812d-d912c12d6cda","type":"PROCESSOR","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Only for Temperatures Above 70","comments":""},"destination":{"id":"f566c6a9-92cd-3140-a91b-f2dcd24f858d","type":"PROCESSOR","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Set Source","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["all"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"},{"identifier":"c968f737-0ea8-3c62-9fc2-137a5a47d433","name":"","source":{"id":"f566c6a9-92cd-3140-a91b-f2dcd24f858d","type":"PROCESSOR","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Set Source","comments":""},"destination":{"id":"7f851dee-9d9e-3bdc-8a9f-7c8a007b5c0a","type":"OUTPUT_PORT","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Out","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"},{"identifier":"05770d4d-f8eb-3f75-b641-77ee8e8f69d6","name":"","source":{"id":"09fd0a3e-92de-3da1-812d-d912c12d6cda","type":"PROCESSOR","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Only for Temperatures Above 70","comments":""},"destination":{"id":"aafa6d84-dcdf-363e-91c0-7a88eb0bfeca","type":"OUTPUT_PORT","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"}],"labels":[{"identifier":"72a074f3-ecf7-371d-a4cd-41798e0bd6dd","position":{"x":176.0,"y":-248.0},"label":"THIS IS MQTT","width":776.0,"height":336.0,"style":{"background-color":"#bf268c","font-size":"24px"},"componentType":"LABEL","groupIdentifier":"eaad9703-ea74-350b-a8d3-e056dee7d3c0"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"sensors","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"remoteProcessGroups":[],"processors":[{"identifier":"5a48ba45-7839-3c79-aeb7-a67eb475ccf6","name":"Set Source","comments":"","position":{"x":752.0,"y":392.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","edge.source":"s2s","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"edge.source":{"name":"edge.source","displayName":"edge.source","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"34420c62-361f-327a-9b54-6ce03f2c74bf","name":"Set Energy Attributes","comments":"","position":{"x":512.0,"y":824.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"schema":"energy","Delete Attributes Expression":null,"columnFamily":"energy","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","topicName2":"energy2","schema.name":"energy","idcolumn":"uuid","Stateful Variables Initial Value":null,"kuduTableName":"impala::default.energy","directoryName":"energy2","tableName":"energy"},"propertyDescriptors":{"schema":{"name":"schema","displayName":"schema","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"columnFamily":{"name":"columnFamily","displayName":"columnFamily","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"topicName2":{"name":"topicName2","displayName":"topicName2","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"idcolumn":{"name":"idcolumn","displayName":"idcolumn","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"kuduTableName":{"name":"kuduTableName","displayName":"kuduTableName","identifiesControllerService":false,"sensitive":false},"directoryName":{"name":"directoryName","displayName":"directoryName","identifiesControllerService":false,"sensitive":false},"tableName":{"name":"tableName","displayName":"tableName","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","name":"Route Energy and Sensors","comments":"","position":{"x":752.0,"y":608.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"isEnergy2":"${schema.name:equals(\"energy\")}","isSensors2":"${edge.datatype:equals(\"scada\")}","isEnergy3":"${edge.datatype:equals(\"energy\")}","Routing Strategy":"Route to Property name","isSensors":"${filename:contains('envp')}","isSensors3":"${schema.name:equals(\"scada\")}","isEnergy":"${command:contains('energy')}"},"propertyDescriptors":{"isEnergy2":{"name":"isEnergy2","displayName":"isEnergy2","identifiesControllerService":false,"sensitive":false},"isSensors2":{"name":"isSensors2","displayName":"isSensors2","identifiesControllerService":false,"sensitive":false},"isEnergy3":{"name":"isEnergy3","displayName":"isEnergy3","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"isSensors":{"name":"isSensors","displayName":"isSensors","identifiesControllerService":false,"sensitive":false},"isSensors3":{"name":"isSensors3","displayName":"isSensors3","identifiesControllerService":false,"sensitive":false},"isEnergy":{"name":"isEnergy","displayName":"isEnergy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"6dba291b-3c0e-353a-8187-cfd5a7a1d55e","name":"Set Sensor Values","comments":"","position":{"x":1216.0,"y":808.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"schema":"scada","Delete Attributes Expression":null,"columnFamily":"scada","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","topicName2":"scada2","schema.name":"scada","idcolumn":"uuid","Stateful Variables Initial Value":null,"kuduTableName":"impala::default.envirosensors","directoryName":"sensors2","tableName":"scada"},"propertyDescriptors":{"schema":{"name":"schema","displayName":"schema","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"columnFamily":{"name":"columnFamily","displayName":"columnFamily","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"topicName2":{"name":"topicName2","displayName":"topicName2","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"idcolumn":{"name":"idcolumn","displayName":"idcolumn","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"kuduTableName":{"name":"kuduTableName","displayName":"kuduTableName","identifiesControllerService":false,"sensitive":false},"directoryName":{"name":"directoryName","displayName":"directoryName","identifiesControllerService":false,"sensitive":false},"tableName":{"name":"tableName","displayName":"tableName","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"57b23a85-69c6-3b10-8a24-3143b835e622","name":"Consume Kafka Sensor Alerts","comments":"","position":{"x":-376.0,"y":1672.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-0-nar","version":"1.13.2.2.1.1.0-13"},"style":{},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafkaRecord_2_0","properties":{"header-name-regex":"schema.*","sasl.username":null,"max.poll.records":"10000","record-writer":"538fb1be-f196-35b0-97a1-41c72de4941f","group.id":"nifi-scadaalerts-consumer","bootstrap.servers":"edge2ai-1.dim.local:9092","topic_type":"names","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"security.protocol":"PLAINTEXT","kerberos-credentials-service":null,"ssl.context.service":null,"max-uncommit-offset-wait":"1 secs","sasl.mechanism":"GSSAPI","sasl.token.auth":"false","honor-transactions":"false","sasl.kerberos.keytab":null,"Communications Timeout":"60 secs","topic":"scadaalerts","separate-by-key":"false","record-reader":"e285cb55-47d4-397b-98d9-69f459a65ce8","message-header-encoding":"UTF-8","key-attribute-encoding":"utf-8","auto.offset.reset":"earliest"},"propertyDescriptors":{"header-name-regex":{"name":"header-name-regex","displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic_type":{"name":"topic_type","displayName":"Topic Name Format","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"honor-transactions":{"name":"honor-transactions","displayName":"Honor Transactions","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"separate-by-key":{"name":"separate-by-key","displayName":"Separate By Key","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"inputPorts":[{"identifier":"b96bfecb-0004-34bb-972c-a4875760af43","name":"NiFi Site to Site Gateway","comments":"","position":{"x":800.0,"y":232.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":true,"componentType":"INPUT_PORT","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"outputPorts":[{"identifier":"3e24e900-e917-388f-866a-9e99268263b3","name":"Binaries","position":{"x":1520.0,"y":640.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"bff95a47-28bd-3a76-9a91-060d612008ef","name":"Errors","comments":"","position":{"x":160.0,"y":888.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"connections":[{"identifier":"b7f21198-5c3a-3b68-84fb-c46ea47e5aac","name":"","source":{"id":"34420c62-361f-327a-9b54-6ce03f2c74bf","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Set Energy Attributes","comments":""},"destination":{"id":"5c345d0b-aab1-3407-a3ab-18bc36ad8d5c","type":"FUNNEL","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"ae23998e-c6a0-3266-8abf-64e16e66e65a","name":"","source":{"id":"7f851dee-9d9e-3bdc-8a9f-7c8a007b5c0a","type":"OUTPUT_PORT","groupId":"eaad9703-ea74-350b-a8d3-e056dee7d3c0","name":"Out","comments":""},"destination":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"436a2dc4-3d56-3b56-8bd0-57676b27cc48","name":"","source":{"id":"d6111b22-e284-3297-9198-61e3351efe9c","type":"OUTPUT_PORT","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Out","comments":""},"destination":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"adfa8050-c1d2-3f68-8e30-bc623f623019","name":"","source":{"id":"57b23a85-69c6-3b10-8a24-3143b835e622","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Consume Kafka Sensor Alerts","comments":""},"destination":{"id":"2d35a537-2b5f-3de1-80aa-bf0e978c8659","type":"INPUT_PORT","groupId":"bf9cf262-bc64-3bf1-82d3-392d9f346bb6","name":"Input"},"labelIndex":1,"zIndex":0,"selectedRelationships":["parse.failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"ab5c3690-e0ae-3415-9911-33fd01ed40c4","name":"","source":{"id":"74e86456-6c39-31f4-a116-7d63bb73cf9f","type":"OUTPUT_PORT","groupId":"231e6e94-18ab-33cc-b33e-f5a6ad75115f","name":"Out"},"destination":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"1de633a3-2d7d-3bdc-ae60-bd46cbfd2bd7","name":"","source":{"id":"ecac24d0-565e-3353-bc5e-4b3850f0827a","type":"OUTPUT_PORT","groupId":"42e4da01-bef6-35f3-ba7c-25569f1c29fe","name":"Out","comments":""},"destination":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"1e4e1bff-ea6b-3927-8c21-2c96de097003","name":"","source":{"id":"b96bfecb-0004-34bb-972c-a4875760af43","type":"INPUT_PORT","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"NiFi Site to Site Gateway","comments":""},"destination":{"id":"5a48ba45-7839-3c79-aeb7-a67eb475ccf6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Set Source","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"39bf5663-a4e5-3e95-9592-ed7808960414","name":"","source":{"id":"6dba291b-3c0e-353a-8187-cfd5a7a1d55e","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Set Sensor Values","comments":""},"destination":{"id":"5c345d0b-aab1-3407-a3ab-18bc36ad8d5c","type":"FUNNEL","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"149cd8ae-9965-32a3-a594-86b89be50d58","name":"","source":{"id":"4e522e80-b58c-3257-8c30-3e7b7a17d46b","type":"OUTPUT_PORT","groupId":"61671f9e-93cf-3cb4-b7b9-091063ce69b2","name":"Errors","comments":""},"destination":{"id":"bff95a47-28bd-3a76-9a91-060d612008ef","type":"OUTPUT_PORT","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Errors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"a78868e7-7ea6-3c9f-81ae-401d3169eabf","name":"","source":{"id":"5a48ba45-7839-3c79-aeb7-a67eb475ccf6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Set Source","comments":""},"destination":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"4e43bcbd-4795-3e50-9a47-f316538042d2","name":"","source":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"destination":{"id":"3e24e900-e917-388f-866a-9e99268263b3","type":"OUTPUT_PORT","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Binaries"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"555e005a-b3c1-32fc-8cd5-5591715d3fdb","name":"","source":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"destination":{"id":"6dba291b-3c0e-353a-8187-cfd5a7a1d55e","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Set Sensor Values","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["isSensors2","isSensors","isSensors3"],"backPressureObjectThreshold":1000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"996850e1-1a14-35ca-9ff9-0314831d6522","name":"","source":{"id":"5c345d0b-aab1-3407-a3ab-18bc36ad8d5c","type":"FUNNEL","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Funnel","comments":""},"destination":{"id":"fae39f7f-25ce-3fa3-b69b-7cd28e936f93","type":"INPUT_PORT","groupId":"a1be06f1-1abe-3567-b97c-51539a69fdc7","name":"In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":100000000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"515da9d7-866d-3b07-8e84-db52c8b214f5","name":"","source":{"id":"57b23a85-69c6-3b10-8a24-3143b835e622","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Consume Kafka Sensor Alerts","comments":""},"destination":{"id":"5b99ccbd-4fb7-3514-a66b-f0bc6416be23","type":"INPUT_PORT","groupId":"24e49be8-fe82-3239-be4b-630cb0525588","name":"Messaging In","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"f919e180-0d8c-328a-98d0-23ec73a2ffcd","name":"","source":{"id":"5ab86d2a-8daa-39a4-9394-981eed20fcd6","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Route Energy and Sensors","comments":""},"destination":{"id":"34420c62-361f-327a-9b54-6ce03f2c74bf","type":"PROCESSOR","groupId":"35f71e40-c733-3b04-8a9e-4e16064a31d2","name":"Set Energy Attributes","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["isEnergy2","isEnergy3","isEnergy"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"labels":[{"identifier":"85034b7e-df46-33fa-8767-70a8874d8866","position":{"x":-416.0,"y":1512.0},"label":"STREAMING ALERTS","width":2904.0,"height":56.0,"style":{"background-color":"#f56505","font-size":"24px"},"componentType":"LABEL","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"1fff9e8f-b9e2-3871-9922-33529b10fb29","position":{"x":-56.0,"y":16.0},"label":"DATA SOURCES FROM EDGE","width":2904.0,"height":56.0,"style":{"background-color":"#f56505","font-size":"24px"},"componentType":"LABEL","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"},{"identifier":"ae030f77-a9f5-3fcb-9721-a44caf4f0c37","position":{"x":-416.0,"y":1112.0},"label":"DATA SINKS TO CLOUD","width":2904.0,"height":56.0,"style":{"background-color":"#f56505","font-size":"24px"},"componentType":"LABEL","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"funnels":[{"identifier":"5c345d0b-aab1-3407-a3ab-18bc36ad8d5c","position":{"x":968.0,"y":1032.0},"componentType":"FUNNEL","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"controllerServices":[{"identifier":"607567ee-8bb6-3e84-99d2-114ecd060464","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.13.2.2.1.1.0-13"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.13.2.2.1.1.0-13"}}],"properties":{"Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-branch":null,"schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"35f71e40-c733-3b04-8a9e-4e16064a31d2"}],"variables":{},"parameterContextName":"sensors","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{"abc141d5-48de-397f-af4c-370eaab1bc82":{"identifier":"abc141d5-48de-397f-af4c-370eaab1bc82","name":"SchemaAvroReader"},"7b8627f8-c677-3bc0-b483-ab0caa6efe77":{"identifier":"7b8627f8-c677-3bc0-b483-ab0caa6efe77","name":"JsonRecordSetWriter"},"cdfa45ea-9a81-357f-89c2-1de60c21b763":{"identifier":"cdfa45ea-9a81-357f-89c2-1de60c21b763","name":"HBase_2_ClientService"},"c04ce46b-eb77-3d80-82cf-545635f27605":{"identifier":"c04ce46b-eb77-3d80-82cf-545635f27605","name":"Infer JsonTreeReader"},"a4e1e2b0-ef21-3132-9767-3023dc2041fb":{"identifier":"a4e1e2b0-ef21-3132-9767-3023dc2041fb","name":"SchemaAwareJsonTreeReader"},"dd64680b-5f08-3da7-b7b9-f4cead87c543":{"identifier":"dd64680b-5f08-3da7-b7b9-f4cead87c543","name":"Infer JsonTreeReader"},"e285cb55-47d4-397b-98d9-69f459a65ce8":{"identifier":"e285cb55-47d4-397b-98d9-69f459a65ce8","name":"Infer JsonTreeReader"},"538fb1be-f196-35b0-97a1-41c72de4941f":{"identifier":"538fb1be-f196-35b0-97a1-41c72de4941f","name":"Standard Inherit JsonRecordSetWriter"},"c5f33b35-558a-360c-b0db-a703c19b45fc":{"identifier":"c5f33b35-558a-360c-b0db-a703c19b45fc","name":"InferJsonTreeReader"},"78f55605-8666-3b0c-ae67-783d97e8ef86":{"identifier":"78f55605-8666-3b0c-ae67-783d97e8ef86","name":"Standard Inherit JsonRecordSetWriter"},"315ec691-8bbe-364e-8c9c-413ee124891f":{"identifier":"315ec691-8bbe-364e-8c9c-413ee124891f","name":"SchemaAwareJsonRecordSetWriter"},"760134c6-1768-3f53-a13a-96c759924e31":{"identifier":"760134c6-1768-3f53-a13a-96c759924e31","name":"JsonRecordSetWriter"},"afc15f88-6e27-3777-ae23-3da91e11d980":{"identifier":"afc15f88-6e27-3777-ae23-3da91e11d980","name":"Standard Inherit JsonRecordSetWriter"},"85eeba17-d6cb-35ca-a05d-31f4fda3f088":{"identifier":"85eeba17-d6cb-35ca-a05d-31f4fda3f088","name":"Edge2ai Cloudera SchemaRegistry CSchema"},"1b9e338b-2a92-3627-b9ab-4dd335f2d66e":{"identifier":"1b9e338b-2a92-3627-b9ab-4dd335f2d66e","name":"JsonRecordSetWriter"},"5e00ec4e-f03b-3f7c-bfd7-c17119c07cb3":{"identifier":"5e00ec4e-f03b-3f7c-bfd7-c17119c07cb3","name":"AWSCredentialsProviderControllerService"}},"parameterContexts":{"sensors":{"name":"sensors","parameters":[{"name":"scadatopic","description":"","sensitive":false,"value":"scada"},{"name":"kafkabrokers","description":"","sensitive":false,"value":"edge2ai-1.dim.local:9092"},{"name":"Kudu Masters","description":"","sensitive":false,"value":"edge2ai-1.dim.local:7051"},{"name":"energytopic","description":"","sensitive":false,"value":"energy"},{"name":"global_temperaturealerttopic","description":"","sensitive":false,"value":"global_temperaturealert"},{"name":"trendingtemperaturequery","description":"","sensitive":false,"value":"SELECT * \nFROM FLOWFILE\nWHERE CAST(temperaturef as FLOAT) > 60\n"},{"name":"scadaclientid","description":"","sensitive":false,"value":"nifi-scada-data-remote"},{"name":"allquery","description":"","sensitive":false,"value":"SELECT *\nFROM FLOWFILE"},{"name":"sensordataclientid","description":"","sensitive":false,"value":"nifi-sensor-data-local"},{"name":"tempquery","description":"","sensitive":false,"value":"SELECT * \nFROM FLOWFILE\nWHERE CAST(temperaturef as FLOAT) > 70\n"}]}},"flowEncodingVersion":"1.0"}